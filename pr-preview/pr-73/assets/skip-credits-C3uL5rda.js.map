{"version":3,"file":"skip-credits-C3uL5rda.js","sources":["../../node_modules/@srgssr/skip-button/dist/skip-button.js","../../static/showcases/skip-credits.html?html-proxy&index=0.js","../../static/showcases/skip-credits.html?html-proxy&index=1.js"],"sourcesContent":["import pillarbox from '@srgssr/pillarbox-web';\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nconst version = \"1.0.5\";\n\nconst de = {\n\t\"Skip credits\": \"Abspann überspringen\",\n\t\"Skip intro\": \"Intro überspringen\"\n};\n\nconst en = {\n\t\"Skip credits\": \"Skip credits\",\n\t\"Skip intro\": \"Skip intro\"\n};\n\nconst fr = {\n\t\"Skip credits\": \"Passer\",\n\t\"Skip intro\": \"Passer l’intro\"\n};\n\nconst it = {\n\t\"Skip credits\": \"Salta i credits\",\n\t\"Skip intro\": \"Salta l'intro\"\n};\n\nconst rm = {\n\t\"Skip credits\": \"Sursiglir credentials\",\n\t\"Skip intro\": \"Sursiglir intro\"\n};\n\nfunction extendLanguage(code, data) {\n  var _pillarbox$options$la;\n  pillarbox.addLanguage(code, _objectSpread2(_objectSpread2({}, (_pillarbox$options$la = pillarbox.options.language[code]) !== null && _pillarbox$options$la !== void 0 ? _pillarbox$options$la : {}), data));\n}\nextendLanguage('de', de);\nextendLanguage('en', en);\nextendLanguage('fr', fr);\nextendLanguage('it', it);\nextendLanguage('rm', rm);\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/button').default}\n */\nconst Button = pillarbox.getComponent('Button');\n\n/**\n * Represents a SkipButton component for the pillarbox player. Allows skipping\n * opening credits and end credits detected through the 'srgssr/interval' event.\n *\n * @class SkipButton\n */\nclass SkipButton extends Button {\n  constructor(player, options) {\n    super(player, options);\n    /**\n     * The currently active interval.\n     *\n     * @type {VTTCue}\n     */\n    _defineProperty(this, \"activeInterval\", void 0);\n    /**\n     * Handles the event triggered on changing the time interval.\n     * This method serves as a proxy to the main time interval change handler,\n     * ensuring that additional logic can be executed or making it easier to\n     * detach the event listener later.\n     *\n     * @private\n     */\n    _defineProperty(this, \"onTimeIntervalChange_\", ({\n      data\n    }) => this.handleTimeIntervalChange(data));\n    this.player().on('srgssr/interval', this.onTimeIntervalChange_);\n  }\n  dispose() {\n    this.player().off('srgssr/interval', this.onTimeIntervalChange_);\n    super.dispose();\n  }\n  buildCSSClass() {\n    return `${super.buildCSSClass()} pbw-skip-button vjs-hidden vjs-visible-text`;\n  }\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().currentTime(this.activeInterval.endTime);\n  }\n\n  /**\n   * Handles the time interval change and updates the currently active interval.\n   * If there is no currently active interval the component is hidden, otherwise\n   * it is shown.\n   *\n   * @param {VTTCue} cue The cue for the current time interval.\n   */\n  handleTimeIntervalChange(cue) {\n    this.activeInterval = cue;\n    if (!this.activeInterval) {\n      this.hide();\n      return;\n    }\n\n    /**\n     * @type {import('@srgssr/pillarbox-web/dist/types/src/dataProvider/model/typedef').TimeInterval}\n     */\n    const timeInterval = JSON.parse(this.activeInterval.text);\n    const text = timeInterval.type === 'OPENING_CREDITS' ? 'Skip intro' : 'Skip credits';\n    this.controlText(text);\n    this.show();\n  }\n  static get VERSION() {\n    return version;\n  }\n}\npillarbox.registerComponent('SkipButton', SkipButton);\n\nexport { SkipButton as default };\n//# sourceMappingURL=skip-button.js.map\n","\n  // Import the pillarbox library\n  import pillarbox from '@srgssr/pillarbox-web';\n  // Import the skip-button component\n  import '@srgssr/skip-button';\n\n  // Create a pillarbox player instance with the skip-button component\n  const player = pillarbox(\n    'video-element-id',\n    {\n      muted: true,\n      SkipButton: true\n    }\n  );\n\n  // Load the video source for the player\n  player.src({ src: 'urn:rts:video:15532586', type: 'srgssr/urn' });\n","\n  import pillarbox from '@srgssr/pillarbox-web';\n  import '../../src/layout/header/core-demo-header-component.js';\n\n  document.querySelector('#close-btn').addEventListener('click', () => {\n    window.close();\n  });\n\n  window.pillarbox = pillarbox;\n"],"names":["_defineProperty","e","r","t","_toPropertyKey","ownKeys","o","_objectSpread2","_toPrimitive","i","version","de","en","fr","it","rm","extendLanguage","code","data","_pillarbox$options$la","pillarbox","Button","SkipButton","player","options","event","cue","text"],"mappings":"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","x_google_ignoreList":[0]}