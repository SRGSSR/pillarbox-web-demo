{"version":3,"file":"skip-credits-CGtefrI6.js","sources":["../../static/showcases/skip-credits.html?html-proxy&index=0.js","../../static/showcases/skip-credits.html?html-proxy&index=1.js"],"sourcesContent":["\n  // Import the pillarbox library\n  import pillarbox from '@srgssr/pillarbox-web';\n\n  // Register a plugin to skip credits\n  pillarbox.registerPlugin('skipButton', function() {\n    // Get a reference to the player instance\n    const player = this;\n\n    // Wait for the player to be ready\n    player.ready(() => {\n      // Create a button component for skipping content\n      const skipButtonComponent = player.addChild('button', {\n        // Define the click handler for the button\n        clickHandler: () => {\n          // Get the text track with the ID 'srgssr-intervals'\n          const timeIntervals = player.textTracks().getTrackById('srgssr-intervals');\n          // Parse the JSON content of the active cue to get the time interval information\n          const timeInterval = JSON.parse(timeIntervals.activeCues[0].text);\n\n          // Set the player's current time to the 'markOut' value of the time interval\n          player.currentTime(timeInterval.markOut);\n        },\n        // Set the class name for styling\n        className: 'pbw-skip-btn',\n        // Set the control text for accessibility\n        controlText: 'Skip'\n      });\n\n      // Hide the skip button initially\n      skipButtonComponent.hide();\n\n      // Listen for the 'loadeddata' event on the player\n      player.on('loadeddata', () => {\n        // Get the text track with the ID 'srgssr-intervals'\n        const timeIntervals = player.textTracks().getTrackById('srgssr-intervals');\n\n        // Add a listener for the 'cuechange' event on the time intervals text track\n        timeIntervals?.on('cuechange', () => {\n          // Check if there are active cues in the time intervals text track\n          if (timeIntervals.activeCues.length > 0) {\n            // Show the skip button if there are active cues\n            skipButtonComponent.show();\n          } else {\n            // Hide the skip button if there are no active cues\n            skipButtonComponent.hide();\n          }\n        });\n      });\n    });\n  });\n\n  // Create a pillarbox player instance with the skipButton plugin\n  const player = pillarbox(\n    'video-element-id',\n    { fill: true, plugins: { skipButton: {} } }\n  );\n\n  // Load the video source for the player\n  player.src({ src: 'urn:rts:video:14683290', type: 'srgssr/urn' });\n","\n  import pillarbox from '@srgssr/pillarbox-web';\n  import '../../src/layout/header/core-demo-header-component.js';\n\n  document.querySelector('#close-btn').addEventListener('click', () => {\n    window.close();\n  });\n\n  window.pillarbox = pillarbox;\n"],"names":["pillarbox","player","skipButtonComponent","timeIntervals","timeInterval"],"mappings":"mGAKEA,EAAU,eAAe,aAAc,UAAW,CAEhD,MAAMC,EAAS,KAGfA,EAAO,MAAM,IAAM,CAEjB,MAAMC,EAAsBD,EAAO,SAAS,SAAU,CAEpD,aAAc,IAAM,CAElB,MAAME,EAAgBF,EAAO,WAAY,EAAC,aAAa,kBAAkB,EAEnEG,EAAe,KAAK,MAAMD,EAAc,WAAW,CAAC,EAAE,IAAI,EAGhEF,EAAO,YAAYG,EAAa,OAAO,CACxC,EAED,UAAW,eAEX,YAAa,MACrB,CAAO,EAGDF,EAAoB,KAAI,EAGxBD,EAAO,GAAG,aAAc,IAAM,CAE5B,MAAME,EAAgBF,EAAO,WAAY,EAAC,aAAa,kBAAkB,EAGzEE,GAAA,MAAAA,EAAe,GAAG,YAAa,IAAM,CAE/BA,EAAc,WAAW,OAAS,EAEpCD,EAAoB,KAAI,EAGxBA,EAAoB,KAAI,CAEpC,EACA,CAAO,CACP,CAAK,CACL,CAAG,EAGD,MAAMD,EAASD,EACb,mBACA,CAAE,KAAM,GAAM,QAAS,CAAE,WAAY,CAAE,CAAA,CAAI,CAC/C,EAGEC,EAAO,IAAI,CAAE,IAAK,yBAA0B,KAAM,aAAc,ECvDhE,SAAS,cAAc,YAAY,EAAE,iBAAiB,QAAS,IAAM,CACnE,OAAO,MAAK,CAChB,CAAG,EAED,OAAO,UAAYD"}