var p=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var i=(e,r,t)=>(p(e,r,"read from private field"),t?t.call(e):r.get(e)),s=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},u=(e,r,t,n)=>(p(e,r,"write to private field"),n?n.call(e,t):r.set(e,t),t);var o=(e,r,t)=>(p(e,r,"access private method"),t);import{p as h}from"./core-demo-header-component-BT_QUw0k.js";/* empty css                        */const b=h.getPlugin("plugin");var a,c,m,l,g;class y extends b{constructor(t,n){super(t,n);s(this,c);s(this,l);s(this,a,void 0);this.player.ready(()=>o(this,c,m).call(this)),this.player.on("loadeddata",()=>o(this,l,g).call(this))}}a=new WeakMap,c=new WeakSet,m=function(){u(this,a,this.player.getChild("ControlBar").addChild("component",{id:"current-chapter",className:"pbw-current-chapter vjs-hidden"}));const t=document.createElement("img");t.className="pbw-chapter-thumbnail";const n=document.createElement("span");n.className="pbw-chapter-title",i(this,a).el().appendChild(t),i(this,a).el().appendChild(n),i(this,a).hide()},l=new WeakSet,g=function(){const t=this.player.textTracks().getTrackById("srgssr-chapters");t==null||t.on("cuechange",()=>{if(!t.activeCues.length){this.player.getChildById("current-chapter").hide();return}const n=JSON.parse(t.activeCues[0].text),d=i(this,a).$(".pbw-chapter-title"),C=i(this,a).$(".pbw-chapter-thumbnail");d.textContent=n.title,d.title=n.title,C.src=n.imageUrl,i(this,a).show()})};h.registerPlugin("currentChapter",y);const w=h("video-element-id",{fill:!0,plugins:{currentChapter:{}}});w.src({src:"urn:rts:video:10894383",type:"srgssr/urn"});document.querySelector("#close-btn").addEventListener("click",()=>{window.close()});window.pillarbox=h;
//# sourceMappingURL=chapters-BIYgPeiY.js.map
