{"version":3,"file":"skip-credits-YWGYAEdo.js","sources":["../../static/showcases/skip-credits.html?html-proxy&index=0.js","../../static/showcases/skip-credits.html?html-proxy&index=1.js"],"sourcesContent":["\n  // Import the pillarbox library\n  import pillarbox from '@srgssr/pillarbox-web';\n\n  const Plugin = pillarbox.getPlugin('plugin');\n\n  // A Pillarbox plugin to display a skip button.\n  class SkipButton extends Plugin {\n    // Reference to the component used to display the skip button.\n    #component;\n    // The currently active time interval\n    #activeInterval;\n\n    constructor(player, options) {\n      super(player, options);\n\n      // Attach the DOM element when the player is ready,\n      this.player.ready(() => this.#attachComponent());\n      // Wait for the time interval change event.\n      this.player.on('srgssr/interval', ({ data }) => this.#timeIntervalsChange(data));\n    }\n\n    #attachComponent() {\n      this.#component = this.player.addChild('button', {\n        // Define the click handler for the button\n        clickHandler: () => {\n          // Set the player's current time to the 'markOut' value of the time interval\n          this.player.currentTime(this.#activeInterval.endTime);\n        },\n        // Set the class for styling and hide the element with 'vjs-hidden'\n        // 'vjs-visible-text' allows to show the controlText, otherwise it is hidden by default\n        className: 'pbw-skip-btn vjs-hidden vjs-visible-text',\n        // Set the control text\n        controlText: `${this.player.localize('skip')} >>`\n      });\n    }\n\n    #timeIntervalsChange(data) {\n      // Check if there are active cues in the time intervals text track\n      if (!data) {\n        // Hide the skip button if there are no active cues\n        this.#activeInterval = undefined;\n        this.#component.hide();\n        return;\n      }\n\n      // Show the skip button if there are active cues\n      this.#activeInterval = data;\n      this.#component.show();\n    }\n  }\n\n  // Register a plugin to skip credits\n  pillarbox.registerPlugin('skipButton', SkipButton);\n\n  // Add the translations for the button\n  pillarbox.addLanguage('en', { 'skip': 'Skip' });\n  pillarbox.addLanguage('fr', { 'skip': 'Passer' });\n  pillarbox.addLanguage('de', { 'skip': 'Ãœberspringen' });\n  pillarbox.addLanguage('it', { 'skip': 'Saltare' });\n  pillarbox.addLanguage('rm', { 'skip': 'Sursiglir' });\n\n  // Create a pillarbox player instance with the skipButton plugin\n  const player = pillarbox(\n    'video-element-id',\n    { fill: true, plugins: { skipButton: true } }\n  );\n\n  // Load the video source for the player\n  player.src({ src: 'urn:rts:video:14683290', type: 'srgssr/urn' });\n","\n  import pillarbox from '@srgssr/pillarbox-web';\n  import '../../src/layout/header/core-demo-header-component.js';\n\n  document.querySelector('#close-btn').addEventListener('click', () => {\n    window.close();\n  });\n\n  window.pillarbox = pillarbox;\n"],"names":["Plugin","pillarbox","SkipButton","player","options","__privateAdd","_attachComponent","_timeIntervalsChange","_component","_activeInterval","__privateMethod","attachComponent_fn","data","timeIntervalsChange_fn","__privateSet","__privateGet"],"mappings":"weAIE,MAAMA,EAASC,EAAU,UAAU,QAAQ,kBAG3C,MAAMC,UAAmBF,CAAO,CAM9B,YAAYG,EAAQC,EAAS,CAC3B,MAAMD,EAAQC,CAAO,EAQvBC,EAAA,KAAAC,GAeAD,EAAA,KAAAE,GA5BAF,EAAA,KAAAG,EAAA,QAEAH,EAAA,KAAAI,EAAA,QAME,KAAK,OAAO,MAAM,IAAMC,EAAA,KAAKJ,EAAAK,GAAL,UAAuB,EAE/C,KAAK,OAAO,GAAG,kBAAmB,CAAC,CAAE,KAAAC,CAAM,IAAKF,EAAA,KAAKH,EAAAM,GAAL,UAA0BD,EAAK,CAChF,CA8BF,CAzCCJ,EAAA,YAEAC,EAAA,YAWAH,EAAA,YAAAK,EAAgB,UAAG,CACjBG,EAAA,KAAKN,EAAa,KAAK,OAAO,SAAS,SAAU,CAE/C,aAAc,IAAM,CAElB,KAAK,OAAO,YAAYO,EAAA,KAAKN,GAAgB,OAAO,CACrD,EAGD,UAAW,2CAEX,YAAa,GAAG,KAAK,OAAO,SAAS,MAAM,CAAC,KACpD,CAAO,EACF,EAEDF,EAAA,YAAAM,EAAoB,SAACD,EAAM,CAEzB,GAAI,CAACA,EAAM,CAETE,EAAA,KAAKL,EAAkB,QACvBM,EAAA,KAAKP,GAAW,OAChB,MACD,CAGDM,EAAA,KAAKL,EAAkBG,GACvBG,EAAA,KAAKP,GAAW,MACjB,EAIHP,EAAU,eAAe,aAAcC,CAAU,EAGjDD,EAAU,YAAY,KAAM,CAAE,KAAQ,MAAQ,CAAA,EAC9CA,EAAU,YAAY,KAAM,CAAE,KAAQ,QAAU,CAAA,EAChDA,EAAU,YAAY,KAAM,CAAE,KAAQ,cAAgB,CAAA,EACtDA,EAAU,YAAY,KAAM,CAAE,KAAQ,SAAW,CAAA,EACjDA,EAAU,YAAY,KAAM,CAAE,KAAQ,WAAa,CAAA,EAGnD,MAAME,EAASF,EACb,mBACA,CAAE,KAAM,GAAM,QAAS,CAAE,WAAY,EAAI,CAAI,CACjD,EAGEE,EAAO,IAAI,CAAE,IAAK,yBAA0B,KAAM,aAAc,ECjEhE,SAAS,cAAc,YAAY,EAAE,iBAAiB,QAAS,IAAM,CACnE,OAAO,MAAK,CAChB,CAAG,EAED,OAAO,UAAYF"}