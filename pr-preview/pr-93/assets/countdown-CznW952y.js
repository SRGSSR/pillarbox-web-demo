import{v as s,p as g}from"./core-demo-header-component-CiGH9v1l.js";function p(n,t,e){return(t=D(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function y(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,o)}return e}function m(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y(Object(e),!0).forEach(function(o){p(n,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))})}return n}function b(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var o=e.call(n,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function D(n){var t=b(n,"string");return typeof t=="symbol"?t:t+""}const j="0.0.1",M=s.getComponent("Component");class h extends M{constructor(t,e){super(t,e)}createEl(t="div",e,o){const r=s.obj.merge({className:this.buildCSSClass()},e),a=super.createEl(t,r,o);return a.append(s.dom.createEl("span",{className:"vjs-countdown-value"},{},"00"),s.dom.createEl("span",{className:"vjs-countdown-separator"},{},this.options().separator),s.dom.createEl("span",{className:"vjs-countdown-label"},{},this.localize(this.options().label))),a}buildCSSClass(){return`vjs-countdown-unit ${super.buildCSSClass()}`}handleLanguagechange(){this.el().getElementsByClassName("vjs-countdown-label")[0].textContent=this.localize(this.options().label)}update(t){const e=this.el().getElementsByClassName("vjs-countdown-value")[0];e.textContent!==t&&(e.textContent=t)}}h.prototype.options_={separator:":"};s.registerComponent("CountdownUnit",h);const C=1e3,c=60*C,d=60*c,S=24*d,$=s.getComponent("Component"),O=s.log.createLogger("countdown");class v extends ${constructor(t,e){super(t,e),p(this,"intervalId_",void 0)}reset(){this.clearInterval(this.intervalId_)}dispose(){this.reset(),super.dispose()}start(t,e){if(this.clearInterval(this.intervalId_),typeof t!="number"){O.error("Invalid endTimestamp provided to start(). Expected a number (milliseconds).",t);return}this.updateCountdown(t,e)||(this.intervalId_=this.setInterval(()=>this.updateCountdown(t,e),1e3))}updateCountdown(t,e){const o=this.remainingDuration(t);return o.totalInMilliseconds<=0?(this.clearInterval(this.intervalId_),this.player().src(e),!0):(Object.entries(o).forEach(([r,a])=>{var u;(u=this.getChild(`CountdownUnit${r}`))===null||u===void 0||u.update(a)}),!1)}remainingDuration(t){const e=t-Date.now();let o=e,r=Math.floor(o/S);o-=r*S;let a=Math.floor(o/d);o-=a*d;let u=Math.floor(o/c);o-=u*c;let w=Math.floor(o/C);return{Days:r.toString().padStart(2,"0"),Hours:a.toString().padStart(2,"0"),Minutes:u.toString().padStart(2,"0"),Seconds:w.toString().padStart(2,"0"),totalInMilliseconds:e}}createEl(t="div",e,o){const r=s.obj.merge({className:this.buildCSSClass()},e);return super.createEl(t,r,o)}buildCSSClass(){return`vjs-countdown ${super.buildCSSClass()}`}}v.prototype.options_={children:["Days","Hours","Minutes","Seconds"].map(n=>({name:`CountdownUnit${n}`,id:`CountdownUnit${n}`,componentClass:"CountdownUnit",label:n}))};s.registerComponent("Countdown",v);const _="Tagen",E="Stunden",I="Minuten",H="Sekunden",P={Days:_,Hours:E,Minutes:I,Seconds:H},N="Days",x="Hours",U="Minutes",T="Seconds",L={Days:N,Hours:x,Minutes:U,Seconds:T},A="Jours",k="Heures",R="Minutes",z="Secondes",B={Days:A,Hours:k,Minutes:R,Seconds:z},K="Giorni",q="Ore",F="Minuti",G="Secondi",J={Days:K,Hours:q,Minutes:F,Seconds:G},V="DÃ¬s",Y="Uras",Q="Minutas",W="Secundas",X={Days:V,Hours:Y,Minutes:Q,Seconds:W};function l(n,t){var e;s.addLanguage(n,m(m({},(e=s.options.language[n])!==null&&e!==void 0?e:{}),t))}l("de",P);l("en",L);l("fr",B);l("it",J);l("rm",X);const Z=s.getComponent("ModalDialog");class f extends Z{constructor(t,e){super(t,e),p(this,"reset_",()=>this.reset()),this.player().on(["loadstart","playerreset","dispose","error"],this.reset_)}dispose(){this.reset(),this.player().off(["loadstart","playerreset","dispose","error"],this.reset_),super.dispose()}buildCSSClass(){return`vjs-countdown-display ${super.buildCSSClass()}`}reset(){this.Countdown.reset(),this.close()}start(t,e){this.Countdown.start(t,e),this.open()}static get VERSION(){return j}}f.prototype.options_={pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0,children:["Countdown"]};s.registerComponent("CountdownDisplay",f);const i=g("video-element-id",{muted:!0,countdownDisplay:!0});i.on("error",()=>{const{metadata:n={}}=i.error()||{};if(n.errorType!=="STARTDATE")return;const{src:{mediaData:{validFrom:t}={}}={}}=n,e=new Date(t).getTime();i.errorDisplay&&i.errorDisplay.opened()&&i.errorDisplay.close(),i.countdownDisplay.start(e,i.currentSource())});i.countdownDisplay.start(Date.now()+5977235e3,{src:"urn:rts:video:10894383",type:"srgssr/urn"});window.player=i;document.querySelector("#close-btn").addEventListener("click",()=>{window.close()});window.pillarbox=g;
//# sourceMappingURL=countdown-CznW952y.js.map
