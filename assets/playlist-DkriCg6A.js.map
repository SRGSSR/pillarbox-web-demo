{"version":3,"file":"playlist-DkriCg6A.js","sources":["../../node_modules/@srgssr/pillarbox-playlist/dist/pillarbox-playlist.js","../../node_modules/@srgssr/web-suite-utils/dist/web-suite-utils.js","../../node_modules/@srgssr/svg-button/dist/svg-button.js","../../node_modules/@srgssr/pillarbox-playlist/dist/ui/pillarbox-playlist-ui.js","../../static/showcases/playlist.html?html-proxy&index=0.js","../../static/showcases/playlist.html?html-proxy&index=1.js"],"sourcesContent":["import videojs from 'video.js';\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nconst version = \"3.2.0\";\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/plugin').default}\n */\nconst Plugin = videojs.getPlugin('plugin');\nconst log = videojs.log.createLogger('pillarbox-playlist');\n\n/**\n * Defines the available repeat modes for the playlist.\n *\n * @enum {number}\n */\nconst RepeatMode = {\n  /**\n   * Disables repeat mode.\n   */\n  NO_REPEAT: 0,\n  /**\n   * Loops the entire playlist. Once the last element of the playlist ends the n\n   * ext element will be the first one. This mode only works forwards,\n   * i.e. when advancing to the next element.\n   */\n  REPEAT_ALL: 1,\n  /**\n   * Loops the currently playing item in the playlist.\n   */\n  REPEAT_ONE: 2\n};\n\n/**\n * Represents a Plugin that allows control over a playlist.\n */\nclass PillarboxPlaylist extends Plugin {\n  /**\n   * Toggles the repeat mode of the player to the opposite of its current state.\n   *\n   * @param {RepeatMode} [force] Optional.\n   *        If provided, sets the repeat mode to the specified state.\n   *        If omitted, the repeat mode will cycle in order through: no repeat, repeat all and repeat one.\n   */\n  toggleRepeat(force = undefined) {\n    this.repeat = force !== null && force !== void 0 ? force : (this.repeat + 1) % Object.keys(RepeatMode).length;\n  }\n\n  /**\n   * Checks if the repeat mode is set to {@link RepeatMode.REPEAT_ONE}.\n   *\n   * @returns {boolean} True if the repeat mode is {@link RepeatMode.REPEAT_ONE}, false otherwise.\n   */\n  isRepeatOneMode() {\n    return this.repeat === RepeatMode.REPEAT_ONE;\n  }\n\n  /**\n   * Checks if the repeat mode is set to {@link RepeatMode.REPEAT_ALL}.\n   *\n   * @returns {boolean} True if the repeat mode is {@link RepeatMode.REPEAT_ALL}, false otherwise.\n   */\n  isRepeatAllMode() {\n    return this.repeat === RepeatMode.REPEAT_ALL;\n  }\n\n  /**\n   * Checks if the repeat mode is set to {@link RepeatMode.NO_REPEAT}.\n   *\n   * @returns {boolean} True if the repeat mode is {@link RepeatMode.NO_REPEAT}, false otherwise.\n   */\n  isNoRepeatMode() {\n    return this.repeat === RepeatMode.NO_REPEAT;\n  }\n\n  /**\n   * Whether auto-advance is enabled or not.\n   *\n   * @type boolean\n   */\n\n  /**\n   * Toggles the auto-advance mode of the player to the opposite of its current state.\n   *\n   * @param {boolean} [force] Optional. If provided, sets the auto-advance mode to the specified boolean value (true or false).\n   *                          If omitted, the auto-advance mode will toggle to the opposite of its current state.\n   */\n  toggleAutoadvance(force = undefined) {\n    this.autoadvance = force !== null && force !== void 0 ? force : !this.autoadvance;\n  }\n\n  /**\n   * Handles the 'ended' event when triggered. This method serves as a proxy to\n   * the main `ended` handler, ensuring that additional logic can be executed or\n   * making it easier to detach the event listener later.\n   *\n   * @private\n   */\n\n  /**\n   * Creates an instance of a pillarbox playlist.\n   *\n   * @param {import('video.js/dist/types/player.js').default} player - The player instance.\n   * @param {Object} options - Configuration options for the plugin.\n   * @param {Array} [options.playlist=[]] - An array of playlist items to be initially loaded into the player.\n   * @param {Boolean} [options.repeat=false] - If true, the playlist will start over automatically after the last item ends.\n   * @param {Boolean} [options.autoadvance=false] - If enabled, the player will automatically move to the next item after the current one ends.\n   * @param {Number} [options.previousNavigationThreshold=3] - Threshold in seconds for determining the behavior when navigating to the previous item.\n   */\n  constructor(player, options) {\n    var _options$repeat;\n    super(player);\n    /**\n     * The items in the playlist.\n     *\n     * @type {PlaylistItem[]}\n     * @private\n     */\n    _defineProperty(this, \"items_\", []);\n    /**\n     * The current index.\n     *\n     * @type {number}\n     * @private\n     */\n    _defineProperty(this, \"currentIndex_\", -1);\n    /**\n     * Threshold in seconds for determining the behavior when navigating to the previous item.\n     *\n     * - If the media is live, {@link previous} will navigate to the previous item,\n     *   regardless of the threshold.\n     * - If the playback position is within this threshold, {@link previous} will\n     *   navigate to the previous item.\n     * - If the playback position is beyond this threshold, {@link previous} will\n     *   restart the current media.\n     *\n     * To disable this functionality, set the value to undefined or infinity.\n     *\n     * @type {number}\n     * @default 3\n     */\n    _defineProperty(this, \"previousNavigationThreshold\", 3);\n    /**\n     * The current repeat mode of the player. By default, repeat is disabled.\n     *\n     * @type {RepeatMode}\n     */\n    _defineProperty(this, \"repeat\", RepeatMode.NO_REPEAT);\n    _defineProperty(this, \"autoadvance\", false);\n    _defineProperty(this, \"onEnded_\", () => this.handleEnded());\n    /**\n     * Handles the 'loadeddata' event when triggered. This method serves as a\n     * proxy to the main `loaded` handler, ensuring that additional logic can be\n     * executed or making it easier to detach the event listener later.\n     *\n     * @private\n     */\n    _defineProperty(this, \"onLoadedData_\", () => this.handleLoadedData());\n    options = this.options_ = videojs.obj.merge(this.options_, options);\n    if (options.playlist && options.playlist.length) {\n      player.ready(() => {\n        this.load(...options.playlist);\n      });\n    }\n    this.autoadvance = Boolean(options.autoadvance);\n    this.repeat = (_options$repeat = options.repeat) !== null && _options$repeat !== void 0 ? _options$repeat : this.repeat;\n    this.previousNavigationThreshold = Number.isFinite(options.previousNavigationThreshold) ? options.previousNavigationThreshold : this.previousNavigationThreshold;\n    this.player.on('ended', this.onEnded_);\n    this.player.on('loadeddata', this.onLoadedData_);\n  }\n  dispose() {\n    this.player.off('ended', this.onEnded_);\n    this.player.off('loadeddata', this.onLoadedData_);\n  }\n\n  /**\n   * Loads a playlist into the player. This method will load the first element\n   * in the playlist. Use it to initialize the playlist.\n   *\n   * Note: A copy of the playlist items array is made internally to ensure that\n   * external modifications to the array do not affect the internal state and\n   * vice versa.\n   *\n   * @param {PlaylistItem[]} items The playlist items to load.\n   */\n  load(items) {\n    this.items_ = [...items];\n    this.select(0);\n  }\n\n  /**\n   * Adds one or more items at the end of the playlist. This method will not\n   * load any of the elements. Use it to add items while the playlist is\n   * running.\n   *\n   * @param {...PlaylistItem} items the items to add to the playlist.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push\n   */\n  push(...items) {\n    this.items_.push(...items);\n    this.updateState_();\n  }\n\n  /**\n   * Modifies the contents of the playlist by removing or replacing existing\n   * elements and/or adding new elements.\n   *\n   * The method also adjusts currentIndex accordingly if items are added or\n   * removed in such a way that it affects the currentIndex.\n   *\n   * If the current item is deleted then the currentIndex becomes -1, the\n   * current element will continue playing but the next element will be the\n   * first element in the playlist.\n   *\n   * @param {number} start The zero-based location in the array from which to\n   *                       start removing elements.\n   * @param {number} deleteCount The number of elements to remove.\n   * @param {...PlaylistItem} items The items to add to the playlist.\n   *\n   * @return {PlaylistItem[]} An array containing the deleted elements.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n   */\n  splice(start, deleteCount, ...items) {\n    const itemsAddedCount = items.length;\n    const deletedElements = this.items_.splice(start, deleteCount, ...items);\n    const deletedElementsCount = deletedElements.length;\n    if (this.currentIndex_ >= start && this.currentIndex_ < start + deletedElementsCount) {\n      // Current item was removed, set currentIndex to -1\n      this.currentIndex_ = -1;\n    } else if (this.currentIndex_ >= start) {\n      // Adjust currentIndex based on the net items added/removed\n      this.currentIndex_ = this.currentIndex_ - deletedElementsCount + itemsAddedCount;\n    }\n    this.updateState_();\n    return deletedElements;\n  }\n\n  /**\n   * Clears the internal playlist. This method empties the playlist and resets\n   * the current index to -1.\n   *\n   * Note that this method does not stop the currently playing media or unload it.\n   */\n  clear() {\n    this.items_ = [];\n    this.currentIndex_ = -1;\n    this.updateState_();\n  }\n\n  /**\n   * Reverses the order of the items in the playlist and updates the current index to reflect\n   * the new position of the previously current item after reversal.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse\n   */\n  reverse() {\n    if (!this.items_.length) return;\n    this.items_.reverse();\n    this.currentIndex_ = this.items_.length - 1 - this.currentIndex_;\n    this.updateState_();\n  }\n\n  /**\n   * Sorts the items in the playlist using the provided compare function and updates the current\n   * index to reflect the new position of the previously current item after sorting.\n   *\n   * @method sort\n   * @param {Function} compareFn - A function that defines the sort order.\n   *        The return value should be a number whose sign indicates the relative order\n   *        of the two elements: negative if a is less than b, positive if a is\n   *        greater than b, and zero if they are equal. NaN is treated as 0. If omitted,\n   *        the array elements are converted to strings, then sorted according to each\n   *        character's Unicode code point value.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n   */\n  sort(compareFn) {\n    if (!this.items_.length) return;\n    const currentItem = this.currentItem;\n    this.items_.sort(compareFn);\n    this.currentIndex_ = this.items_.indexOf(currentItem);\n    this.updateState_();\n  }\n\n  /**\n   * Get the currently playing index.\n   *\n   * @returns {number} the currently playing index.\n   */\n  get currentIndex() {\n    return this.currentIndex_;\n  }\n\n  /**\n   * Get the currently playing item.\n   *\n   * @returns {PlaylistItem} the currently playing item.\n   */\n  get currentItem() {\n    return this.items_[this.currentIndex_];\n  }\n\n  /**\n   * Get the current playlist items.This is a copy of the internal list\n   * modifying this list will not affect the playlist. use `push` and `splice`\n   * to modify the internal list.\n   *\n   * @returns {PlaylistItem[]} the current list of items.\n   */\n  get items() {\n    return [...this.items_];\n  }\n\n  /**\n   * Plays the playlist item at the given index. If the index is not in\n   * the playlist this method has no effect.\n   *\n   * @param {number} index The index of the item to play.\n   */\n  // eslint-disable-next-line max-statements\n  select(index) {\n    if (index < 0 || index >= this.items_.length) {\n      log.warn(`Index: ${index} is out of bounds (The current playlist has ${this.items_.length} elements)`);\n      return;\n    }\n    if (index === this.currentIndex_) {\n      log.warn(`Index: ${index} is already selected`);\n      return;\n    }\n    const item = this.items_[index];\n    this.player.src(item.sources);\n    this.player.poster(item.poster);\n    this.currentIndex_ = index;\n    this.updateState_();\n  }\n\n  /**\n   * Advances to the next item in the playlist. If {@link RepeatMode#REPEAT_ALL}\n   * mode is enabled, then once the last item of the playlist is reached this\n   * function will play the first one.\n   */\n  next() {\n    if (this.hasNext()) {\n      this.select(this.currentIndex_ + 1);\n      return;\n    }\n    if (this.repeat === RepeatMode.REPEAT_ALL) this.select(0);\n  }\n\n  /**\n   * Whether an element exists in the playlist after the one that is currently playing.\n   * If `repeat` mode is enabled this function will still return `false` when the\n   * current position is the last item in the playlist.\n   *\n   * @returns {boolean} true if there is an element after, false otherwise.\n   */\n  hasNext() {\n    return this.currentIndex_ + 1 < this.items_.length;\n  }\n\n  /**\n   * Navigates to the previous item in the playlist or restarts the current\n   * media based on playback position.\n   *\n   * - If the media is live, navigates to the previous item regardless of the threshold.\n   * - If playback is beyond the threshold, restarts the current media.\n   * - If playback is within the threshold, navigates to the previous item.\n   * - If {@link RepeatMode#REPEAT_ALL} mode is enabled, then once the first\n   *   item of the playlist is reached this function will play the last one.\n   *\n   * @see previousNavigationThreshold\n   */\n  previous() {\n    if (!this.isLive() && this.player.currentTime() > this.previousNavigationThreshold) {\n      this.player.currentTime(0);\n      return;\n    }\n    if (this.hasPrevious()) {\n      this.select(this.currentIndex_ - 1);\n      return;\n    }\n    if (this.repeat === RepeatMode.REPEAT_ALL) {\n      this.select(this.items_.length - 1);\n    }\n  }\n  isLive() {\n    const liveTracker = this.player.liveTracker;\n    return liveTracker && liveTracker.isLive();\n  }\n\n  /**\n   * Whether an element exists before the one that is currently playing.\n   * If `repeat` mode is enabled this function will still return `false` when the\n   * current position is the first item in the playlist.\n   *\n   * @returns {boolean} true if there is an element before, false otherwise.\n   */\n  hasPrevious() {\n    return this.currentIndex_ > 0;\n  }\n\n  /**\n   * Handles the `ended` event. If auto-advance is enabled then the next item\n   * will be played, otherwise nothing happens.\n   */\n  handleEnded() {\n    if (this.repeat === RepeatMode.REPEAT_ONE) {\n      this.player.play().then(() => {});\n      return;\n    }\n    if (!this.autoadvance) {\n      return;\n    }\n    this.next();\n  }\n\n  /**\n   * Handles the `loadeddata` event. If the currently playing item defines a\n   * `startTime`, the player will automatically seek to that position once the\n   * media data has loaded.\n   */\n  handleLoadedData() {\n    var _this$currentItem;\n    const startTime = (_this$currentItem = this.currentItem) === null || _this$currentItem === void 0 ? void 0 : _this$currentItem.startTime;\n    if (!startTime) return;\n    this.player.currentTime(startTime);\n  }\n\n  /**\n   * Shuffles the order of the items in the playlist randomly.\n   * This method implements the Fisher-Yates shuffle algorithm to\n   * ensure each permutation of the array elements is equally likely.\n   */\n  shuffle() {\n    for (let i = this.items_.length - 1; i > 0; i -= 1) {\n      // Pick a remaining elementâ€¦\n      const j = Math.floor(Math.random() * (i + 1));\n\n      // And swap it with the current element.\n      [this.items_[i], this.items_[j]] = [this.items_[j], this.items_[i]];\n\n      // Check if the currentIndex was swapped, update if necessary\n      if (this.currentIndex_ === i) {\n        this.currentIndex_ = j;\n      } else if (this.currentIndex_ === j) {\n        this.currentIndex_ = i;\n      }\n    }\n    this.updateState_();\n  }\n\n  /**\n   * Updates the component's state with the current items and index.\n   *\n   * @private\n   */\n  updateState_() {\n    this.setState({\n      // Converts the items array to a JSON string before setting it in the state.\n      // Otherwise, the change is not detected.\n      items: JSON.stringify(this.items_),\n      currentIndex: this.currentIndex_\n    });\n  }\n  static get VERSION() {\n    return version;\n  }\n}\nPillarboxPlaylist.prototype.options_ = {\n  autoadvance: false,\n  repeat: false\n};\nvideojs.registerPlugin('pillarboxPlaylist', PillarboxPlaylist);\n\n/**\n * Represents a single item in the playlist.\n *\n * @typedef {Object} PlaylistItem\n * @property {any[]} sources The array of media sources for the playlist item.\n * @property {string} poster A url for the poster.\n * @property {number} startTime The time position (in seconds) where playback\n *                              should begin.\n * @property {Object} data The metadata for the playlist item. In this object\n *                          you can store properties related to the playlist\n *                          item such as `title`, the `duration`,\n *                          and other relevant metadata.\n */\n\nexport { PillarboxPlaylist, RepeatMode };\n//# sourceMappingURL=pillarbox-playlist.js.map\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\n\n/**\n * Parses an SVG string into an SVGElement after validating its structure.\n *\n * @param {string} svgString - A raw string expected to contain valid SVG markup.\n * @returns {SVGElement} - The root SVG element parsed from the string.\n * @throws {Error} If the input is not a valid SVG or doesn't have an <svg> root element.\n */\nfunction stringToSvgElement(svgString) {\n  const doc = new DOMParser().parseFromString(svgString, 'image/svg+xml');\n  const root = doc.documentElement;\n  if (!(root instanceof SVGElement)) {\n    throw new Error('Parsed root is not an SVGElement');\n  }\n  return root;\n}\n\n/**\n * Fetches an SVG from a given URL and parses it into an SVGElement.\n *\n * @param {string} urlString - A URL pointing to an SVG resource.\n * @returns {Promise<SVGElement>} - A promise resolving to the parsed SVG element.\n * @throws {Error} If the fetch fails or the response is not a valid SVG.\n */\nfunction fetchSvgElement(_x) {\n  return _fetchSvgElement.apply(this, arguments);\n}\n/**\n * Parses a string that might be a raw SVG or a URL pointing to an SVG.\n *\n * @param {string} icon - A trimmed string containing either an SVG element or a URL.\n * @returns {Promise<SVGElement>} - A promise resolving to the parsed SVG element.\n * @throws {Error} If the string is neither an SVG nor a valid URL.\n */\nfunction _fetchSvgElement() {\n  _fetchSvgElement = _asyncToGenerator(function* (urlString) {\n    const res = yield fetch(urlString, {\n      mode: 'cors'\n    });\n    if (!res.ok) {\n      throw new Error(`Failed to fetch SVG: ${res.status} ${res.statusText}`);\n    }\n    return stringToSvgElement(yield res.text());\n  });\n  return _fetchSvgElement.apply(this, arguments);\n}\nfunction resolveSvgFromString(_x2) {\n  return _resolveSvgFromString.apply(this, arguments);\n}\n/**\n * Resolves an icon source to an SVGElement.\n *\n * Accepts:\n * - An actual SVGElement (returned as-is)\n * - A URL object (SVG fetched and parsed)\n * - A string (parsed as a URL or inline SVG)\n *\n * @param {SVGElement | string | URL} icon - The source of the SVG.\n * @returns {Promise<SVGElement>} - A promise resolving to the final SVGElement.\n * @throws {Error} If the input type is invalid or the SVG cannot be resolved.\n */\nfunction _resolveSvgFromString() {\n  _resolveSvgFromString = _asyncToGenerator(function* (icon) {\n    const trimmed = icon.trim();\n    const url = URL.parse(trimmed);\n    if (url) {\n      return yield fetchSvgElement(url.href);\n    }\n    if (trimmed.startsWith('<')) {\n      return stringToSvgElement(trimmed);\n    }\n    throw new Error(`Provided string is not a URL or an SVG element: ${icon}`);\n  });\n  return _resolveSvgFromString.apply(this, arguments);\n}\nfunction loadSvgElement(_x3) {\n  return _loadSvgElement.apply(this, arguments);\n}\nfunction _loadSvgElement() {\n  _loadSvgElement = _asyncToGenerator(function* (icon) {\n    if (icon instanceof SVGElement) {\n      return icon;\n    }\n    if (icon instanceof URL) {\n      return yield fetchSvgElement(icon.href);\n    }\n    if (typeof icon === 'string') {\n      return yield resolveSvgFromString(icon);\n    }\n    throw new Error(`Invalid icon type provided: ${icon}`);\n  });\n  return _loadSvgElement.apply(this, arguments);\n}\n\nexport { loadSvgElement };\n//# sourceMappingURL=web-suite-utils.js.map\n","import videojs from 'video.js';\nimport { loadSvgElement } from '@srgssr/web-suite-utils';\n\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\n\nconst version = \"1.1.1\";\n\n/**\n * Loads and appends an SVG icon into a Video.js component.\n *\n * @param {import('video.js').Component} component - The Video.js component instance.\n */\nfunction appendSvgIcon(_x) {\n  return _appendSvgIcon.apply(this, arguments);\n}\nfunction _appendSvgIcon() {\n  _appendSvgIcon = _asyncToGenerator(function* (component) {\n    const {\n      icon,\n      iconName\n    } = component.options();\n    if (iconName) component.setIcon(iconName);\n    const placeholder = component.el().querySelector('.vjs-icon-placeholder');\n    if (iconName && placeholder) placeholder.classList.toggle(`vjs-icon-${iconName}`, true);\n    yield insertSvgIcon(icon, placeholder);\n  });\n  return _appendSvgIcon.apply(this, arguments);\n}\nfunction insertSvgIcon(_x2, _x3) {\n  return _insertSvgIcon.apply(this, arguments);\n}\nfunction _insertSvgIcon() {\n  _insertSvgIcon = _asyncToGenerator(function* (icon, placeholder) {\n    if (!icon || !placeholder) return;\n    const svg = yield loadSvgElement(icon);\n    svg.classList.add('icon-from-options');\n    placeholder.classList.add('vjs-svg-icon');\n    placeholder.replaceChildren(svg);\n  });\n  return _insertSvgIcon.apply(this, arguments);\n}\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/utils/log.js').default}\n */\nconst log$1 = videojs.log.createLogger('svg-button');\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/component').default}\n */\nconst Button = videojs.getComponent('Button');\n\n/**\n * A helper Video.js button component that supports various strategies\n * for displaying SVG icons.\n *\n * This component is intended to be extended by other custom buttons\n * that want to display an SVG icon via multiple possible inputs:\n *\n * - Raw SVG string\n * - SVGElement instance\n * - URL to an SVG file\n * - icon font via CSS\n * - experimental Video.js SVG icons\n */\nclass SvgButton extends Button {\n  /**\n   * Creates an instance of SvgButton.\n   *\n   * @param {import('video.js/dist/types/player.js').default} player The player instance.\n   * @param {Object | undefined} options Configuration options for the button.\n   * @param {SVGElement|string|URL} [options.icon] An optional icon to be loaded into the button.\n   * Can be an SVGElement, a raw SVG string, or a URL to an SVG file.\n   * @param {string} [options.iconName] An Optional icon name if using Video.js experimental icon support.\n   */\n  constructor(player, options) {\n    super(player, options);\n    this.appendIcon().catch(reason => log$1.error(`There was a problem loading the provided SVG Icon`, reason));\n  }\n\n  /**\n   * Appends the configured icon to the component element.\n   * Uses the {@link appendSvgIcon} helper to handle different icon input formats.\n   *\n   * Override this function to customize how the SVG icon is appended.\n   *\n   * @param {Object | undefined} options\n   *        The parameters used to configure the icon.\n   *\n   * @param {SVGElement|string|URL} [options.icon]\n   *        An optional icon to be loaded into the button. Can be an SVGElement,\n   *        a raw SVG string, or a URL to an SVG file. This will update the\n   *        current configured icon.\n   *\n   * @param {string} [options.iconName]\n   *        A symbolic name for the icon (e.g., `\"play\"`, `\"pause\"`, `\"chromecast\"`).\n   *        Useful when you want to reference or style icons by name.\n   */\n  appendIcon() {\n    var _this = this;\n    return _asyncToGenerator(function* (options = undefined) {\n      if (options) {\n        const {\n          icon,\n          iconName\n        } = options;\n        _this.options({\n          icon,\n          iconName\n        });\n      }\n      yield appendSvgIcon(_this);\n    }).apply(this, arguments);\n  }\n\n  /**\n   * Builds the CSS class name for the button element.\n   *\n   * @returns {string} The full CSS class string for this button.\n   */\n  buildCSSClass() {\n    return `vjs-svg-button ${super.buildCSSClass()}`;\n  }\n\n  /**\n   * Static getter for the component version.\n   *\n   * @returns {string} The current version of the SvgButton component.\n   */\n  static get VERSION() {\n    return version;\n  }\n}\nvideojs.registerComponent('SvgButton', SvgButton);\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/utils/log.js').default}\n */\nconst log = videojs.log.createLogger('svg-component');\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/component').default}\n */\nconst Component = videojs.getComponent('Component');\n\n/**\n * A helper Video.js component that supports various strategies\n * for displaying SVG icons.\n *\n * This component is intended to be extended by other custom components\n * that want to display an SVG icon via multiple possible inputs:\n *\n * - Raw SVG string\n * - SVGElement instance\n * - URL to an SVG file\n * - icon font via CSS\n * - experimental Video.js SVG icons\n */\nclass SvgComponent extends Component {\n  /**\n   * Creates an instance of SvgComponent.\n   *\n   * @param {import('video.js/dist/types/player.js').default} player The player instance.\n   * @param {Object} options Configuration options for the component.\n   * @param {SVGElement|string|URL} [options.icon] An optional icon to be loaded into the component.\n   * Can be an SVGElement, a raw SVG string, or a URL to an SVG file.\n   * @param {string} [options.iconName] An Optional icon name if using Video.js experimental icon support.\n   */\n  constructor(player, options) {\n    super(player, options);\n    this.appendIcon().catch(reason => log.error(`There was a problem loading the provided SVG Icon`, reason));\n  }\n\n  /**\n   * Appends the configured icon to the component element.\n   * Uses the {@link appendSvgIcon} helper to handle different icon input formats.\n   *\n   * Override this function to customize how the SVG icon is appended.\n   *\n   * @param {Object | undefined} options\n   *        The parameters used to configure the icon.\n   *\n   * @param {SVGElement|string|URL} [options.icon]\n   *        An optional icon to be loaded into the button. Can be an SVGElement,\n   *        a raw SVG string, or a URL to an SVG file. This will update the\n   *        current configured icon.\n   *\n   * @param {string} [options.iconName]\n   *        A symbolic name for the icon (e.g., `\"play\"`, `\"pause\"`, `\"chromecast\"`).\n   *        Useful when you want to reference or style icons by name.\n   */\n  appendIcon() {\n    var _this = this;\n    return _asyncToGenerator(function* (options = undefined) {\n      if (options) {\n        const {\n          icon,\n          iconName\n        } = options;\n        _this.options({\n          icon,\n          iconName\n        });\n      }\n      yield appendSvgIcon(_this);\n    }).apply(this, arguments);\n  }\n\n  /**\n   * Creates the DOM element for this component.\n   *\n   * This overrides the base `createEl` to:\n   * - Apply the component's CSS class.\n   * - Add a `.vjs-icon-placeholder` span if experimental SVG icons are not enabled.\n   *\n   * @param {string} [tag] The HTML tag name to use for the element (defaults to `'div'` if not specified by super).\n   * @param {Object} [props={}] An object of element properties (such as `className`).\n   * @param {Object} [attributes={}]  An object of element attributes (such as `aria-hidden`).\n   *\n   * @returns {Element} The created DOM element for this component.\n   */\n  createEl(tag, props = {}, attributes = {}) {\n    props = Object.assign({\n      className: this.buildCSSClass()\n    }, props);\n    const el = super.createEl(tag, props, attributes);\n    if (!this.player_.options_.experimentalSvgIcons) {\n      el.appendChild(videojs.dom.createEl('span', {\n        className: 'vjs-icon-placeholder'\n      }, {\n        'aria-hidden': true\n      }));\n    }\n    return el;\n  }\n\n  /**\n   * Builds the CSS class name for the component element.\n   *\n   * @returns {string} The full CSS class string for this component.\n   */\n  buildCSSClass() {\n    return `vjs-svg-component ${super.buildCSSClass()}`;\n  }\n\n  /**\n   * Static getter for the component version.\n   *\n   * @returns {string} The current version of the SvgComponent component.\n   */\n  static get VERSION() {\n    return version;\n  }\n}\nvideojs.registerComponent('SvgComponent', SvgComponent);\n\nexport { SvgButton, SvgComponent, appendSvgIcon };\n//# sourceMappingURL=svg-button.js.map\n","import videojs from 'video.js';\nimport '@srgssr/svg-button';\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\n/**\n * @ignore\n * @type {typeof import('@srgssr/svg-button').SvgButton}\n */\nconst SvgButton$4 = videojs.getComponent('SvgButton');\n\n/**\n * Class representing a button that opens the playlist menu.\n */\nclass PillarboxPlaylistButton extends SvgButton$4 {\n  /**\n   * Creates an instance of PillarboxPlaylistButton.\n   *\n   * @param {Object} player - The video.js player instance.\n   * @param {Object} options - Options for the button.\n   */\n  constructor(player, options) {\n    super(player, options);\n    /**\n     * Handles the 'statechanged' event when triggered by the playlist. This method\n     * serves as a proxy to the main `statechanged` handler, ensuring that additional\n     * logic can be executed or making it easier to detach the event listener later.\n     *\n     * @private\n     */\n    _defineProperty(this, \"onPlaylistStateChanged_\", ({\n      changes\n    }) => {\n      if ('items' in changes) {\n        this.toggleVisibility();\n      }\n    });\n    this.playlist().on('statechanged', this.onPlaylistStateChanged_);\n  }\n\n  /**\n   * Get the playlist instance associated with the player.\n   *\n   * @returns {import('packages/pillarbox-playlist/src/pillarbox-playlist.js').default} The playlist instance.\n   */\n  playlist() {\n    return this.player().pillarboxPlaylist();\n  }\n\n  /**\n   * Dispose of the PillarboxPlaylistButton instance.\n   */\n  dispose() {\n    this.playlist().off('statechanged', this.onPlaylistStateChanged_);\n    super.dispose();\n  }\n\n  /**\n   * Builds the CSS class string for the button.\n   *\n   * @returns {string} The CSS class string.\n   */\n  buildCSSClass() {\n    return `pbw-playlist-button vjs-hidden ${super.buildCSSClass()}`;\n  }\n\n  /**\n   * Handles the click event on the button.\n   *\n   * @param {Event} event - The click event.\n   */\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().getChild('PillarboxPlaylistMenuDialog').open();\n  }\n\n  /**\n   * Toggles the visibility of the element based on the presence of items in the playlist.\n   */\n  toggleVisibility() {\n    if (this.playlist().items.length > 0) {\n      this.show();\n      return;\n    }\n    this.hide();\n  }\n}\nPillarboxPlaylistButton.prototype.options_ = {\n  controlText: 'Playlist',\n  iconName: 'chapters'\n};\nvideojs.registerComponent('PillarboxPlaylistButton', PillarboxPlaylistButton);\n\nconst version$1 = \"1.0.0\";\n\n/**\n * @typedef {object} CardMetadata\n * @property {string} title the title of the card\n * @property {number} duration the duration of the media in seconds\n * @property {string} imageTitle the title of the image\n * @property {string} imageUrl the URL of the image\n *\n * @typedef {object} CardOptions\n * @property {CardMetadata} metadata the card metadata\n * @property {string} styleEl a string of CSS styles to be applied to the card\n */\n\n/**\n* @ignore\n* @type {typeof import('video.js/dist/types/clickable-component').default}\n*/\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\n/**\n * A card component that displays metadata, such as title, duration, and an image.\n *\n * This component extends the Video.js ClickableComponent class, making it interactive.\n *\n * @extends ClickableComponent\n */\nclass Card extends ClickableComponent {\n  /**\n   * Creates an instance of Card.\n   *\n   * @param {import('video.js/dist/types/player').default} player\n   * @param {CardOptions} options\n   */\n  constructor(player, options) {\n    super(player, options);\n\n    /** @type { CardMetadata } */\n    this.metadata = this.options().metadata;\n    const style = this.options().styleEl;\n    if (style) {\n      videojs.dom.setAttributes(this.el(), {\n        style\n      });\n    }\n  }\n\n  /**\n   * Creates the title element for the card.\n   *\n   * @returns {HTMLParagraphElement} the title element\n   */\n  createTitle() {\n    return videojs.dom.createEl('p', undefined, {\n      class: 'vjs-card-title'\n    }, this.options().metadata.title);\n  }\n\n  /**\n   * Creates the duration element for the card.\n   *\n   * @returns {HTMLSpanElement} the duration element\n   */\n  createDuration() {\n    return videojs.dom.createEl('span', undefined, {\n      class: 'vjs-card-duration',\n      'aria-hidden': true\n    }, videojs.time.formatTime(this.options().metadata.duration, 600));\n  }\n\n  /**\n   * Creates a figcaption element to contain the title and duration.\n   *\n   * @returns {HTMLElement} the figcaption element\n   */\n  createFigCaption() {\n    return videojs.dom.createEl('figcaption', {\n      className: 'vjs-card-figcaption',\n      id: this.id()\n    }, undefined, [this.createTitle(), this.createDuration()]);\n  }\n\n  /**\n   * Creates the image element for the card.\n   *\n   * @returns {HTMLImageElement} the image element\n   */\n  createImage() {\n    return videojs.dom.createEl('img', undefined, {\n      class: 'vjs-card-img',\n      alt: this.options().metadata.imageTitle,\n      src: this.options().metadata.imageUrl\n    });\n  }\n\n  /**\n   * Creates a figure element to contain the image and figcaption.\n   *\n   * @returns {HTMLElement} the figure element\n   */\n  createFigure() {\n    return videojs.dom.createEl('figure', undefined, {\n      class: 'vjs-card-figure'\n    }, [this.createImage(), this.createFigCaption()]);\n  }\n\n  /**\n   * Toggles the selection state of the card.\n   *\n   * @param {boolean} isSelected a flag indicating whether the card is selected\n   * @returns {void}\n   */\n  select(isSelected) {\n    this.toggleClass('vjs-card-selected', isSelected);\n  }\n  isSelected() {\n    return this.hasClass('vjs-card-selected');\n  }\n\n  /**\n   * Builds the CSS class for the component.\n   *\n   * @returns {string} the CSS class name\n   */\n  buildCSSClass() {\n    return `vjs-card`;\n  }\n\n  /**\n   * Creates the div element for the component.\n   *\n   * @returns {HTMLDivElement} the div element\n   */\n  createEl(tag = 'div', props = {\n    className: this.buildCSSClass()\n  }, attributes = {}) {\n    return videojs.dom.createEl(tag, props, attributes, this.createFigure());\n  }\n\n  /**\n   * Returns the version of the component.\n   *\n   * @static\n   * @returns {string} the version of the component\n   */\n  static get VERSION() {\n    return version$1;\n  }\n}\nvideojs.registerComponent('Card', Card);\n\n/**\n * @typedef {object} cardLinkOptions\n * @property {function(): string} urlHandler function that returns a URL\n *\n * @typedef {cardLinkOptions & import('./card.js').CardOptions} CardLinkOptions\n */\n\n/**\n * A card component that functions as a link.\n *\n * This component extends the Card class and can be used to navigate to a URL.\n *\n * @extends Card\n */\nclass CardLink extends Card {\n  /**\n   * Creates an instance of CardLink.\n   *\n   * @param {import('video.js/dist/types/player').default} player\n   * @param {CardLinkOptions} options\n   */\n  constructor(player, options) {\n    super(player, options);\n\n    /** @type { function(): string } */\n    this.handleUrl = typeof options.urlHandler === 'function' ? options.urlHandler.bind(this) : () => {};\n    videojs.dom.setAttributes(this.el(), {\n      href: this.handleUrl(),\n      'aria-labelledby': this.id(),\n      title: this.metadata.title\n    });\n  }\n\n  /**\n   * Builds the CSS class for the component.\n   *\n   * @returns {string} the CSS class name\n   */\n  buildCSSClass() {\n    return `${super.buildCSSClass()} vjs-card-link`;\n  }\n\n  /**\n   * Creates the a element for the component.\n   *\n   * @returns {HTMLAnchorElement} the a element\n   */\n  createEl() {\n    return super.createEl('a', {\n      className: this.buildCSSClass(),\n      rel: 'noopener noreferrer'\n    });\n  }\n\n  /**\n   * Returns the version of the component.\n   *\n   * @static\n   * @returns {string} the version of the component\n   */\n  static get VERSION() {\n    return version$1;\n  }\n}\nvideojs.registerComponent('CardLink', CardLink);\n\n/**\n * The CardButton functions as a button.\n *\n * This component extends the Card class and can be used to trigger actions.\n *\n * @extends Card\n */\nlet CardButton$1 = class CardButton extends Card {\n  /**\n   * Creates an instance of CardButton.\n   *\n   * @param {import('video.js/dist/types/player').default} player\n   * @param {import('./card.js').CardOptions} options\n   */\n  constructor(player, options) {\n    super(player, options);\n    videojs.dom.setAttributes(this.el(), {\n      'aria-labelledby': this.id()\n    });\n  }\n\n  /**\n   * Builds the CSS class for the component.\n   *\n   * @returns {string} the CSS class name\n   */\n  buildCSSClass() {\n    return `${super.buildCSSClass()} vjs-card-button`;\n  }\n\n  /**\n   * Creates the button element for the component.\n   *\n   * @returns {HTMLButtonElement} the button element\n   */\n  createEl() {\n    return super.createEl('button', {\n      className: this.buildCSSClass()\n    });\n  }\n\n  /**\n   * Returns the version of the component.\n   *\n   * @static\n   * @returns {string} the version of the component\n   */\n  static get VERSION() {\n    return version$1;\n  }\n};\nvideojs.registerComponent('CardButton', CardButton$1);\n\n/**\n * @ignore\n * @type {typeof import('@srgssr/card').CardButton}\n */\nconst CardButton = videojs.getComponent('CardButton');\n\n/**\n * Class representing a playlist menu item in the Pillarbox plugin.\n */\nclass PillarboxPlaylistMenuItem extends CardButton {\n  /**\n   * Creates an instance of PillarboxPlaylistMenuItem.\n   * @param {Object} player - The video.js player instance.\n   * @param {Object} options - Options for the menu item.\n   * @param {number} options.index - The index of the playlist item.\n   * @param {number} options.metadata.live - Whether the playlist item is a livestream.\n   *        If true, the duration element will display \"Live\" as text and the class\n   *        `vjs-card-duration-live` will be added to the element.\n   */\n  constructor(player, options) {\n    super(player, options);\n    this.select(options.index === this.playlist().currentIndex);\n  }\n\n  /**\n   * Gets the Pillarbox playlist associated with the player.\n   *\n   * @returns {import('/packages/pillarbox-playlist/src/pillarbox-playlist.js').default} The Pillarbox playlist.\n   */\n  playlist() {\n    return this.player().pillarboxPlaylist();\n  }\n  createDuration() {\n    const durationEl = super.createDuration();\n    if (this.options().metadata.live) {\n      durationEl.textContent = 'Live';\n      durationEl.classList.add('vjs-card-duration-live');\n    }\n    return durationEl;\n  }\n\n  /**\n   * Handles the click event on the menu item.\n   *\n   * @param {Event} event - The click event.\n   */\n  handleClick(event) {\n    super.handleClick(event);\n    this.playlist().select(this.options().index);\n  }\n}\nvideojs.registerComponent('PillarboxPlaylistMenuItem', PillarboxPlaylistMenuItem);\n\n/**\n * @ignore\n * @type {typeof import('@srgssr/svg-button').SvgButton}\n */\nconst SvgButton$3 = videojs.getComponent('SvgButton');\n\n/**\n * The next item button for the playlist ui. When clicked moves to the\n * next item in the playlist.\n */\nclass PillarboxPlaylistNextItemButton extends SvgButton$3 {\n  constructor(player, options) {\n    super(player, options);\n  }\n\n  /**\n   * Get the playlist instance associated with the player.\n   *\n   * @returns {import('packages/pillarbox-playlist/src/pillarbox-playlist.js').default} The playlist instance.\n   */\n  playlist() {\n    return this.player().pillarboxPlaylist();\n  }\n\n  /**\n   * Handles the click event on the button.\n   *\n   * @param {Event} event - The click event.\n   */\n  handleClick(event) {\n    super.handleClick(event);\n    this.playlist().next();\n  }\n}\nPillarboxPlaylistNextItemButton.prototype.options_ = {\n  controlText: 'Next Item',\n  iconName: 'next-item'\n};\nvideojs.registerComponent('PillarboxPlaylistNextItemButton', PillarboxPlaylistNextItemButton);\n\n/**\n * @ignore\n * @type {typeof import('@srgssr/svg-button').SvgButton}\n */\nconst SvgButton$2 = videojs.getComponent('SvgButton');\n\n/**\n * The previous item button for the playlist ui. When clicked moves to the\n * previous item in the playlist.\n */\nclass PillarboxPlaylistPreviousItemButton extends SvgButton$2 {\n  constructor(player, options) {\n    super(player, options);\n  }\n\n  /**\n   * Get the playlist instance associated with the player.\n   *\n   * @returns {import('packages/pillarbox-playlist/src/pillarbox-playlist.js').default} The playlist instance.\n   */\n  playlist() {\n    return this.player().pillarboxPlaylist();\n  }\n\n  /**\n   * Handles the click event on the button.\n   *\n   * @param {Event} event - The click event.\n   */\n  handleClick(event) {\n    super.handleClick(event);\n    this.playlist().previous();\n  }\n}\nPillarboxPlaylistPreviousItemButton.prototype.options_ = {\n  controlText: 'Previous Item',\n  iconName: 'previous-item'\n};\nvideojs.registerComponent('PillarboxPlaylistPreviousItemButton', PillarboxPlaylistPreviousItemButton);\n\nconst version = \"3.2.0\";\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/plugin').default}\n */\nconst Plugin$1 = videojs.getPlugin('plugin');\nconst log$1 = videojs.log.createLogger('pillarbox-playlist');\n\n/**\n * Defines the available repeat modes for the playlist.\n *\n * @enum {number}\n */\nconst RepeatMode = {\n  /**\n   * Disables repeat mode.\n   */\n  NO_REPEAT: 0,\n  /**\n   * Loops the entire playlist. Once the last element of the playlist ends the n\n   * ext element will be the first one. This mode only works forwards,\n   * i.e. when advancing to the next element.\n   */\n  REPEAT_ALL: 1,\n  /**\n   * Loops the currently playing item in the playlist.\n   */\n  REPEAT_ONE: 2\n};\n\n/**\n * Represents a Plugin that allows control over a playlist.\n */\nclass PillarboxPlaylist extends Plugin$1 {\n  /**\n   * Toggles the repeat mode of the player to the opposite of its current state.\n   *\n   * @param {RepeatMode} [force] Optional.\n   *        If provided, sets the repeat mode to the specified state.\n   *        If omitted, the repeat mode will cycle in order through: no repeat, repeat all and repeat one.\n   */\n  toggleRepeat(force = undefined) {\n    this.repeat = force !== null && force !== void 0 ? force : (this.repeat + 1) % Object.keys(RepeatMode).length;\n  }\n\n  /**\n   * Checks if the repeat mode is set to {@link RepeatMode.REPEAT_ONE}.\n   *\n   * @returns {boolean} True if the repeat mode is {@link RepeatMode.REPEAT_ONE}, false otherwise.\n   */\n  isRepeatOneMode() {\n    return this.repeat === RepeatMode.REPEAT_ONE;\n  }\n\n  /**\n   * Checks if the repeat mode is set to {@link RepeatMode.REPEAT_ALL}.\n   *\n   * @returns {boolean} True if the repeat mode is {@link RepeatMode.REPEAT_ALL}, false otherwise.\n   */\n  isRepeatAllMode() {\n    return this.repeat === RepeatMode.REPEAT_ALL;\n  }\n\n  /**\n   * Checks if the repeat mode is set to {@link RepeatMode.NO_REPEAT}.\n   *\n   * @returns {boolean} True if the repeat mode is {@link RepeatMode.NO_REPEAT}, false otherwise.\n   */\n  isNoRepeatMode() {\n    return this.repeat === RepeatMode.NO_REPEAT;\n  }\n\n  /**\n   * Whether auto-advance is enabled or not.\n   *\n   * @type boolean\n   */\n\n  /**\n   * Toggles the auto-advance mode of the player to the opposite of its current state.\n   *\n   * @param {boolean} [force] Optional. If provided, sets the auto-advance mode to the specified boolean value (true or false).\n   *                          If omitted, the auto-advance mode will toggle to the opposite of its current state.\n   */\n  toggleAutoadvance(force = undefined) {\n    this.autoadvance = force !== null && force !== void 0 ? force : !this.autoadvance;\n  }\n\n  /**\n   * Handles the 'ended' event when triggered. This method serves as a proxy to\n   * the main `ended` handler, ensuring that additional logic can be executed or\n   * making it easier to detach the event listener later.\n   *\n   * @private\n   */\n\n  /**\n   * Creates an instance of a pillarbox playlist.\n   *\n   * @param {import('video.js/dist/types/player.js').default} player - The player instance.\n   * @param {Object} options - Configuration options for the plugin.\n   * @param {Array} [options.playlist=[]] - An array of playlist items to be initially loaded into the player.\n   * @param {Boolean} [options.repeat=false] - If true, the playlist will start over automatically after the last item ends.\n   * @param {Boolean} [options.autoadvance=false] - If enabled, the player will automatically move to the next item after the current one ends.\n   * @param {Number} [options.previousNavigationThreshold=3] - Threshold in seconds for determining the behavior when navigating to the previous item.\n   */\n  constructor(player, options) {\n    var _options$repeat;\n    super(player);\n    /**\n     * The items in the playlist.\n     *\n     * @type {PlaylistItem[]}\n     * @private\n     */\n    _defineProperty(this, \"items_\", []);\n    /**\n     * The current index.\n     *\n     * @type {number}\n     * @private\n     */\n    _defineProperty(this, \"currentIndex_\", -1);\n    /**\n     * Threshold in seconds for determining the behavior when navigating to the previous item.\n     *\n     * - If the media is live, {@link previous} will navigate to the previous item,\n     *   regardless of the threshold.\n     * - If the playback position is within this threshold, {@link previous} will\n     *   navigate to the previous item.\n     * - If the playback position is beyond this threshold, {@link previous} will\n     *   restart the current media.\n     *\n     * To disable this functionality, set the value to undefined or infinity.\n     *\n     * @type {number}\n     * @default 3\n     */\n    _defineProperty(this, \"previousNavigationThreshold\", 3);\n    /**\n     * The current repeat mode of the player. By default, repeat is disabled.\n     *\n     * @type {RepeatMode}\n     */\n    _defineProperty(this, \"repeat\", RepeatMode.NO_REPEAT);\n    _defineProperty(this, \"autoadvance\", false);\n    _defineProperty(this, \"onEnded_\", () => this.handleEnded());\n    /**\n     * Handles the 'loadeddata' event when triggered. This method serves as a\n     * proxy to the main `loaded` handler, ensuring that additional logic can be\n     * executed or making it easier to detach the event listener later.\n     *\n     * @private\n     */\n    _defineProperty(this, \"onLoadedData_\", () => this.handleLoadedData());\n    options = this.options_ = videojs.obj.merge(this.options_, options);\n    if (options.playlist && options.playlist.length) {\n      player.ready(() => {\n        this.load(...options.playlist);\n      });\n    }\n    this.autoadvance = Boolean(options.autoadvance);\n    this.repeat = (_options$repeat = options.repeat) !== null && _options$repeat !== void 0 ? _options$repeat : this.repeat;\n    this.previousNavigationThreshold = Number.isFinite(options.previousNavigationThreshold) ? options.previousNavigationThreshold : this.previousNavigationThreshold;\n    this.player.on('ended', this.onEnded_);\n    this.player.on('loadeddata', this.onLoadedData_);\n  }\n  dispose() {\n    this.player.off('ended', this.onEnded_);\n    this.player.off('loadeddata', this.onLoadedData_);\n  }\n\n  /**\n   * Loads a playlist into the player. This method will load the first element\n   * in the playlist. Use it to initialize the playlist.\n   *\n   * Note: A copy of the playlist items array is made internally to ensure that\n   * external modifications to the array do not affect the internal state and\n   * vice versa.\n   *\n   * @param {PlaylistItem[]} items The playlist items to load.\n   */\n  load(items) {\n    this.items_ = [...items];\n    this.select(0);\n  }\n\n  /**\n   * Adds one or more items at the end of the playlist. This method will not\n   * load any of the elements. Use it to add items while the playlist is\n   * running.\n   *\n   * @param {...PlaylistItem} items the items to add to the playlist.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push\n   */\n  push(...items) {\n    this.items_.push(...items);\n    this.updateState_();\n  }\n\n  /**\n   * Modifies the contents of the playlist by removing or replacing existing\n   * elements and/or adding new elements.\n   *\n   * The method also adjusts currentIndex accordingly if items are added or\n   * removed in such a way that it affects the currentIndex.\n   *\n   * If the current item is deleted then the currentIndex becomes -1, the\n   * current element will continue playing but the next element will be the\n   * first element in the playlist.\n   *\n   * @param {number} start The zero-based location in the array from which to\n   *                       start removing elements.\n   * @param {number} deleteCount The number of elements to remove.\n   * @param {...PlaylistItem} items The items to add to the playlist.\n   *\n   * @return {PlaylistItem[]} An array containing the deleted elements.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n   */\n  splice(start, deleteCount, ...items) {\n    const itemsAddedCount = items.length;\n    const deletedElements = this.items_.splice(start, deleteCount, ...items);\n    const deletedElementsCount = deletedElements.length;\n    if (this.currentIndex_ >= start && this.currentIndex_ < start + deletedElementsCount) {\n      // Current item was removed, set currentIndex to -1\n      this.currentIndex_ = -1;\n    } else if (this.currentIndex_ >= start) {\n      // Adjust currentIndex based on the net items added/removed\n      this.currentIndex_ = this.currentIndex_ - deletedElementsCount + itemsAddedCount;\n    }\n    this.updateState_();\n    return deletedElements;\n  }\n\n  /**\n   * Clears the internal playlist. This method empties the playlist and resets\n   * the current index to -1.\n   *\n   * Note that this method does not stop the currently playing media or unload it.\n   */\n  clear() {\n    this.items_ = [];\n    this.currentIndex_ = -1;\n    this.updateState_();\n  }\n\n  /**\n   * Reverses the order of the items in the playlist and updates the current index to reflect\n   * the new position of the previously current item after reversal.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse\n   */\n  reverse() {\n    if (!this.items_.length) return;\n    this.items_.reverse();\n    this.currentIndex_ = this.items_.length - 1 - this.currentIndex_;\n    this.updateState_();\n  }\n\n  /**\n   * Sorts the items in the playlist using the provided compare function and updates the current\n   * index to reflect the new position of the previously current item after sorting.\n   *\n   * @method sort\n   * @param {Function} compareFn - A function that defines the sort order.\n   *        The return value should be a number whose sign indicates the relative order\n   *        of the two elements: negative if a is less than b, positive if a is\n   *        greater than b, and zero if they are equal. NaN is treated as 0. If omitted,\n   *        the array elements are converted to strings, then sorted according to each\n   *        character's Unicode code point value.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n   */\n  sort(compareFn) {\n    if (!this.items_.length) return;\n    const currentItem = this.currentItem;\n    this.items_.sort(compareFn);\n    this.currentIndex_ = this.items_.indexOf(currentItem);\n    this.updateState_();\n  }\n\n  /**\n   * Get the currently playing index.\n   *\n   * @returns {number} the currently playing index.\n   */\n  get currentIndex() {\n    return this.currentIndex_;\n  }\n\n  /**\n   * Get the currently playing item.\n   *\n   * @returns {PlaylistItem} the currently playing item.\n   */\n  get currentItem() {\n    return this.items_[this.currentIndex_];\n  }\n\n  /**\n   * Get the current playlist items.This is a copy of the internal list\n   * modifying this list will not affect the playlist. use `push` and `splice`\n   * to modify the internal list.\n   *\n   * @returns {PlaylistItem[]} the current list of items.\n   */\n  get items() {\n    return [...this.items_];\n  }\n\n  /**\n   * Plays the playlist item at the given index. If the index is not in\n   * the playlist this method has no effect.\n   *\n   * @param {number} index The index of the item to play.\n   */\n  // eslint-disable-next-line max-statements\n  select(index) {\n    if (index < 0 || index >= this.items_.length) {\n      log$1.warn(`Index: ${index} is out of bounds (The current playlist has ${this.items_.length} elements)`);\n      return;\n    }\n    if (index === this.currentIndex_) {\n      log$1.warn(`Index: ${index} is already selected`);\n      return;\n    }\n    const item = this.items_[index];\n    this.player.src(item.sources);\n    this.player.poster(item.poster);\n    this.currentIndex_ = index;\n    this.updateState_();\n  }\n\n  /**\n   * Advances to the next item in the playlist. If {@link RepeatMode#REPEAT_ALL}\n   * mode is enabled, then once the last item of the playlist is reached this\n   * function will play the first one.\n   */\n  next() {\n    if (this.hasNext()) {\n      this.select(this.currentIndex_ + 1);\n      return;\n    }\n    if (this.repeat === RepeatMode.REPEAT_ALL) this.select(0);\n  }\n\n  /**\n   * Whether an element exists in the playlist after the one that is currently playing.\n   * If `repeat` mode is enabled this function will still return `false` when the\n   * current position is the last item in the playlist.\n   *\n   * @returns {boolean} true if there is an element after, false otherwise.\n   */\n  hasNext() {\n    return this.currentIndex_ + 1 < this.items_.length;\n  }\n\n  /**\n   * Navigates to the previous item in the playlist or restarts the current\n   * media based on playback position.\n   *\n   * - If the media is live, navigates to the previous item regardless of the threshold.\n   * - If playback is beyond the threshold, restarts the current media.\n   * - If playback is within the threshold, navigates to the previous item.\n   * - If {@link RepeatMode#REPEAT_ALL} mode is enabled, then once the first\n   *   item of the playlist is reached this function will play the last one.\n   *\n   * @see previousNavigationThreshold\n   */\n  previous() {\n    if (!this.isLive() && this.player.currentTime() > this.previousNavigationThreshold) {\n      this.player.currentTime(0);\n      return;\n    }\n    if (this.hasPrevious()) {\n      this.select(this.currentIndex_ - 1);\n      return;\n    }\n    if (this.repeat === RepeatMode.REPEAT_ALL) {\n      this.select(this.items_.length - 1);\n    }\n  }\n  isLive() {\n    const liveTracker = this.player.liveTracker;\n    return liveTracker && liveTracker.isLive();\n  }\n\n  /**\n   * Whether an element exists before the one that is currently playing.\n   * If `repeat` mode is enabled this function will still return `false` when the\n   * current position is the first item in the playlist.\n   *\n   * @returns {boolean} true if there is an element before, false otherwise.\n   */\n  hasPrevious() {\n    return this.currentIndex_ > 0;\n  }\n\n  /**\n   * Handles the `ended` event. If auto-advance is enabled then the next item\n   * will be played, otherwise nothing happens.\n   */\n  handleEnded() {\n    if (this.repeat === RepeatMode.REPEAT_ONE) {\n      this.player.play().then(() => {});\n      return;\n    }\n    if (!this.autoadvance) {\n      return;\n    }\n    this.next();\n  }\n\n  /**\n   * Handles the `loadeddata` event. If the currently playing item defines a\n   * `startTime`, the player will automatically seek to that position once the\n   * media data has loaded.\n   */\n  handleLoadedData() {\n    var _this$currentItem;\n    const startTime = (_this$currentItem = this.currentItem) === null || _this$currentItem === void 0 ? void 0 : _this$currentItem.startTime;\n    if (!startTime) return;\n    this.player.currentTime(startTime);\n  }\n\n  /**\n   * Shuffles the order of the items in the playlist randomly.\n   * This method implements the Fisher-Yates shuffle algorithm to\n   * ensure each permutation of the array elements is equally likely.\n   */\n  shuffle() {\n    for (let i = this.items_.length - 1; i > 0; i -= 1) {\n      // Pick a remaining elementâ€¦\n      const j = Math.floor(Math.random() * (i + 1));\n\n      // And swap it with the current element.\n      [this.items_[i], this.items_[j]] = [this.items_[j], this.items_[i]];\n\n      // Check if the currentIndex was swapped, update if necessary\n      if (this.currentIndex_ === i) {\n        this.currentIndex_ = j;\n      } else if (this.currentIndex_ === j) {\n        this.currentIndex_ = i;\n      }\n    }\n    this.updateState_();\n  }\n\n  /**\n   * Updates the component's state with the current items and index.\n   *\n   * @private\n   */\n  updateState_() {\n    this.setState({\n      // Converts the items array to a JSON string before setting it in the state.\n      // Otherwise, the change is not detected.\n      items: JSON.stringify(this.items_),\n      currentIndex: this.currentIndex_\n    });\n  }\n  static get VERSION() {\n    return version;\n  }\n}\nPillarboxPlaylist.prototype.options_ = {\n  autoadvance: false,\n  repeat: false\n};\nvideojs.registerPlugin('pillarboxPlaylist', PillarboxPlaylist);\n\n/**\n * Represents a single item in the playlist.\n *\n * @typedef {Object} PlaylistItem\n * @property {any[]} sources The array of media sources for the playlist item.\n * @property {string} poster A url for the poster.\n * @property {number} startTime The time position (in seconds) where playback\n *                              should begin.\n * @property {Object} data The metadata for the playlist item. In this object\n *                          you can store properties related to the playlist\n *                          item such as `title`, the `duration`,\n *                          and other relevant metadata.\n */\n\n/**\n * @ignore\n * @type {typeof import('@srgssr/svg-button').SvgButton}\n */\nconst SvgButton$1 = videojs.getComponent('SvgButton');\n\n/**\n * The repeat button for the playlist ui. When clicked toggles the repeat mode\n * of the playlist.\n */\nclass PillarboxPlaylistRepeatButton extends SvgButton$1 {\n  constructor(player, options) {\n    super(player, options);\n    this.controlText(this.repeatModeAsString());\n  }\n\n  /**\n   * Get the playlist instance associated with the player.\n   *\n   * @returns {import('packages/pillarbox-playlist/src/pillarbox-playlist.js').default} The playlist instance.\n   */\n  playlist() {\n    return this.player().pillarboxPlaylist();\n  }\n  repeatModeAsString() {\n    switch (this.playlist().repeat) {\n      case RepeatMode.NO_REPEAT:\n        return 'No Repeat';\n      case RepeatMode.REPEAT_ALL:\n        return 'Repeat All';\n      case RepeatMode.REPEAT_ONE:\n        return 'Repeat One';\n    }\n  }\n\n  /**\n   * Builds the CSS class string for the button.\n   *\n   * @returns {string} The CSS class string.\n   */\n  buildCSSClass() {\n    return `${this.playlist().repeat ? 'vjs-selected' : ''} ${super.buildCSSClass()}`;\n  }\n\n  /**\n   * Handles the click event on the button.\n   *\n   * @param {Event} event - The click event.\n   */\n  handleClick(event) {\n    super.handleClick(event);\n    this.playlist().toggleRepeat();\n    this.toggleClass('vjs-selected', !this.playlist().isNoRepeatMode());\n    this.toggleClass('pbw-repeat-one', this.playlist().isRepeatOneMode());\n    this.controlText(this.repeatModeAsString());\n    this.setAttribute('aria-pressed', !this.playlist().isNoRepeatMode());\n  }\n}\nPillarboxPlaylistRepeatButton.prototype.options_ = {\n  iconName: 'repeat'\n};\nvideojs.registerComponent('PillarboxPlaylistRepeatButton', PillarboxPlaylistRepeatButton);\n\n/**\n * @ignore\n * @type {typeof import('@srgssr/svg-button').SvgButton}\n */\nconst SvgButton = videojs.getComponent('SvgButton');\n\n/**\n * The shuffle button for the playlist ui. When clicked shuffles the items\n * in the playlist.\n */\nclass PillarboxPlaylistShuffleButton extends SvgButton {\n  constructor(player, options) {\n    super(player, options);\n  }\n\n  /**\n   * Get the playlist instance associated with the player.\n   *\n   * @returns {import('packages/pillarbox-playlist/src/pillarbox-playlist.js').default} The playlist instance.\n   */\n  playlist() {\n    return this.player().pillarboxPlaylist();\n  }\n\n  /**\n   * Handles the click event on the button.\n   *\n   * @param {Event} event - The click event.\n   */\n  handleClick(event) {\n    super.handleClick(event);\n    this.playlist().shuffle();\n  }\n}\nPillarboxPlaylistShuffleButton.prototype.options_ = {\n  controlText: 'Shuffle',\n  iconName: 'shuffle'\n};\nvideojs.registerComponent('PillarboxPlaylistShuffleButton', PillarboxPlaylistShuffleButton);\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/component').default}\n */\nconst Component$1 = videojs.getComponent('Component');\nclass PillarboxPlaylistControls extends Component$1 {}\nPillarboxPlaylistControls.prototype.options_ = {\n  className: 'pbw-playlist-controls',\n  children: ['pillarboxPlaylistRepeatButton', 'pillarboxPlaylistShuffleButton', 'pillarboxPlaylistPreviousItemButton', 'pillarboxPlaylistNextItemButton']\n};\nvideojs.registerComponent('PillarboxPlaylistControls', PillarboxPlaylistControls);\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/component').default}\n */\nconst Component = videojs.getComponent('Component');\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/modal-dialog').default}\n */\nconst ModalDialog = videojs.getComponent('ModalDialog');\n\n/**\n * PlaylistMenuDialog is a custom dialog that extends the ModalDialog class.\n * It is designed to manage and display a playlist with various controls.\n */\nclass PlaylistMenuDialog extends ModalDialog {\n  /**\n   * Creates an instance of PlaylistMenuDialog.\n   *\n   * @param {import('@srgssr/pillarbox-web').Player} player\n   *        The pillarbox player instance.\n   * @param {Object} options\n   *        Options for the dialog.\n   * @param {boolean} [options.pauseOnOpen=false]\n   *        If true, the player will pause when the modal dialog is opened.\n   * @param {Object} [options.pillarboxPlaylistControls={}]\n   *        Configuration for the control buttons within the modal. Allows\n   *        modifying the order of the buttons, remove buttons you don't need,\n   *        or add new ones.\n   * @param {String} [options.itemComponentName='PillarboxPlaylistMenuItem']\n   *        Name of the Video.js Component used to render each playlist item.\n   *        Allows replacing the default playlist item component. The specified\n   *        component must be registered with Video.js via\n   *        `videojs.registerComponent` before the dialog is created.\n   */\n  constructor(player, options) {\n    options.temporary = false;\n    super(player, options);\n    /**\n     * Handles the 'statechanged' event when triggered by the playlist. This method\n     * serves as a proxy to the main `statechanged` handler, ensuring that additional\n     * logic can be executed or making it easier to detach the event listener later.\n     *\n     * @private\n     */\n    _defineProperty(this, \"onPlaylistStateChanged_\", ({\n      changes\n    }) => {\n      if ('items' in changes) {\n        this.removeItems();\n        this.renderItems();\n      }\n      if ('currentIndex' in changes) {\n        this.select(changes.currentIndex.to);\n      }\n    });\n    this.fill();\n    this.addChild('PillarboxPlaylistControls', options.pillarboxPlaylistControls);\n    this.renderItems();\n    this.playlist().on('statechanged', this.onPlaylistStateChanged_);\n  }\n  buildCSSClass() {\n    return `pbw-playlist-dialog ${super.buildCSSClass()}`;\n  }\n\n  /**\n   * Dispose of the PlaylistMenuDialog instance.\n   */\n  dispose() {\n    this.playlist().off('statechanged', this.onPlaylistStateChanged_);\n    super.dispose();\n  }\n\n  /**\n   * Get the playlist instance associated with the player.\n   *\n   * @returns {import('packages/pillarbox-playlist/src/pillarbox-playlist.js').default}\n   *          The playlist instance.\n   */\n  playlist() {\n    return this.player().pillarboxPlaylist();\n  }\n\n  /**\n   * Update the playlist item UI with the selected index.\n   *\n   * @param {number} index The index of the item to select.\n   */\n  select(index) {\n    const itemList = this.getChild('PillarboxPlaylistMenuItemsList');\n    itemList.children().filter(item => item.name() === this.options().itemComponentName).forEach(button => button.select(index === button.options().index));\n  }\n\n  /**\n   * Remove all playlist items from the dialog.\n   */\n  removeItems() {\n    this.removeChild(this.getChild('PillarboxPlaylistMenuItemsList'));\n  }\n\n  /**\n   * Render the playlist items in the dialog.\n   */\n  renderItems() {\n    const itemListEl = new Component(this.player(), {\n      name: 'PillarboxPlaylistMenuItemsList',\n      el: videojs.dom.createEl('div', {\n        className: 'pbw-playlist-items'\n      })\n    });\n    this.playlist().items.forEach((item, index) => {\n      itemListEl.addChild(this.options().itemComponentName, {\n        metadata: item.data,\n        index\n      });\n    });\n    this.addChild(itemListEl);\n  }\n}\nPlaylistMenuDialog.prototype.options_ = {\n  pauseOnOpen: true,\n  itemComponentName: 'PillarboxPlaylistMenuItem',\n  pillarboxPlaylistControls: {}\n};\nvideojs.registerComponent('PillarboxPlaylistMenuDialog', PlaylistMenuDialog);\n\nconst Playlist$4 = \"Wiedergabeliste\";\nconst Shuffle$4 = \"Mischen\";\nconst de = {\n  \"Next Item\": \"NÃ¤chstes element\",\n  \"No Repeat\": \"Keine Wiederholung\",\n  Playlist: Playlist$4,\n  \"Previous Item\": \"Vorheriges Element\",\n  \"Repeat All\": \"Alle Wiederholen\",\n  \"Repeat One\": \"Einzelnes Wiederholen\",\n  Shuffle: Shuffle$4,\n};\n\nconst Playlist$3 = \"Playlist\";\nconst Shuffle$3 = \"Shuffle\";\nconst en = {\n  \"Next Item\": \"Next Item\",\n  \"No Repeat\": \"No Repeat\",\n  Playlist: Playlist$3,\n  \"Previous Item\": \"Previous Item\",\n  \"Repeat All\": \"Repeat All\",\n  \"Repeat One\": \"Repeat One\",\n  Shuffle: Shuffle$3,\n};\n\nconst Playlist$2 = \"Liste de lecture\";\nconst Shuffle$2 = \"MÃ©langer\";\nconst fr = {\n  \"Next Item\": \"Ã‰lÃ©ment suivant\",\n  \"No Repeat\": \"Pas de RÃ©pÃ©tition\",\n  Playlist: Playlist$2,\n  \"Previous Item\": \"Ã‰lÃ©ment prÃ©cÃ©dent\",\n  \"Repeat All\": \"RÃ©pÃ©ter Tout\",\n  \"Repeat One\": \"RÃ©pÃ©ter Un\",\n  Shuffle: Shuffle$2,\n};\n\nconst Playlist$1 = \"Playlist\";\nconst Shuffle$1 = \"Mescola\";\nconst it = {\n  \"Next Item\": \"Elemento successivo\",\n  \"No Repeat\": \"Nessuna Ripetizione\",\n  Playlist: Playlist$1,\n  \"Previous Item\": \"Elemento precedente\",\n  \"Repeat All\": \"Ripeti Tutto\",\n  \"Repeat One\": \"Ripeti Uno\",\n  Shuffle: Shuffle$1,\n};\n\nconst Playlist = \"Glista da reprodukziun\";\nconst Shuffle = \"Maschadar\";\nconst rm = {\n  \"Next Item\": \"Element proxim\",\n  \"No Repeat\": \"Nagins Repeter\",\n  Playlist,\n  \"Previous Item\": \"Element precedent\",\n  \"Repeat All\": \"Repeter Tut\",\n  \"Repeat One\": \"Repeter In\",\n  Shuffle,\n};\n\nfunction extendLanguage(code, data) {\n  var _videojs$options$lang;\n  videojs.addLanguage(code, _objectSpread2(_objectSpread2({}, (_videojs$options$lang = videojs.options.language[code]) !== null && _videojs$options$lang !== void 0 ? _videojs$options$lang : {}), data));\n}\nextendLanguage('de', de);\nextendLanguage('en', en);\nextendLanguage('fr', fr);\nextendLanguage('it', it);\nextendLanguage('rm', rm);\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/plugin').default}\n */\nconst Plugin = videojs.getPlugin('plugin');\nconst log = videojs.log.createLogger('pillarbox-playlist-ui');\n\n/**\n *  A plugin that adds a playlist button to the control bar.\n */\nclass PillarboxPlaylistUI extends Plugin {\n  /**\n   * Creates an instance of the pillarbox playlist UI.\n   *\n   * @param {Player} player - The video.js player instance.\n   * @param {Object} options - Plugin options.\n   * @param {string} [options.insertChildBefore='fullscreenToggle'] - The control bar child name before which the playlist button should be inserted.\n   */\n  constructor(player, options) {\n    var _player$options$pilla;\n    super(player);\n    if (!player.usingPlugin('pillarboxPlaylist')) {\n      log.error('pillarbox-playlist plugin is required');\n      return;\n    }\n    options = this.options_ = videojs.obj.merge(this.options_, options);\n    player.options({\n      pillarboxPlaylistMenuDialog: (_player$options$pilla = player.options().pillarboxPlaylistMenuDialog) !== null && _player$options$pilla !== void 0 ? _player$options$pilla : true,\n      controlBar: this.mergeControlBarOptions(player, options)\n    });\n  }\n\n  /**\n   * This function takes the existing control bar options from the player instance\n   * and merges them with the provided plugin options:\n   *\n   * - If the control bar is disabled in the player options, it returns the existing control bar\n   *   settings without modifications.\n   * - Otherwise, it merges the default ControlBar options and the player's control bar\n   *   options, and then handles the insertion of the pillarbox playlist button.\n   *   into the control bar's children array.\n   *\n   * @param {Player} player - The  player instance.\n   * @param {Object} options - The options to merge into the control bar options.\n   * @param {string} [options.insertChildBefore] - The name of the child before which to insert the pillarbox playlist button.\n   *\n   * @returns {Object|boolean} The merged control bar options, or false if the control bar is disabled.\n   */\n  mergeControlBarOptions(player, options) {\n    var _controlBarOptions$pi;\n    if (player.options_.controlBar === false) return player.options_.controlBar;\n    const controlBarOptions = videojs.obj.merge(videojs.getComponent('ControlBar').prototype.options_, player.options_.controlBar);\n    const index = controlBarOptions.children.findIndex(item => item === options.insertChildBefore);\n    if (options.insertChildBefore && index !== -1) {\n      const children = [...controlBarOptions.children];\n      children.splice(index, 0, 'pillarboxPlaylistButton');\n      controlBarOptions.children = children;\n      return controlBarOptions;\n    }\n    controlBarOptions.pillarboxPlaylistButton = (_controlBarOptions$pi = controlBarOptions.pillarboxPlaylistButton) !== null && _controlBarOptions$pi !== void 0 ? _controlBarOptions$pi : true;\n    return controlBarOptions;\n  }\n  static get VERSION() {\n    return version;\n  }\n}\nPillarboxPlaylistUI.prototype.options_ = {\n  insertChildBefore: 'fullscreenToggle'\n};\nvideojs.registerPlugin('pillarboxPlaylistUI', PillarboxPlaylistUI);\n\nexport { PillarboxPlaylistUI as default };\n//# sourceMappingURL=pillarbox-playlist-ui.js.map\n","\n  // Import the pillarbox library and the SrgSsr utility class\n  import { default as pillarbox, SrgSsr } from '@srgssr/pillarbox-web';\n  // Import the playlist plugin for pillarbox\n  import '@srgssr/pillarbox-playlist';\n  // Import the playlist UI plugin for pillarbox\n  import '@srgssr/pillarbox-playlist/ui';\n\n  // Create a pillarbox player instance with the playlist plugin\n  const player = pillarbox('video-element-id', {\n    // Activate autoplay to automatically start the next element\n    autoplay: true,\n    muted: true,\n    plugins: {\n      // Configure the playlist plugin\n      pillarboxPlaylist: { autoadvance: true, repeat: true },\n      // Configure the playlist UI plugin and specify where to insert it in the UI\n      pillarboxPlaylistUI: { insertChildBefore: 'fullscreenToggle' }\n    }\n  });\n\n  // Define an array of video sources\n  const sources = [\n    'urn:rts:video:14827742',\n    'urn:srf:video:05457f66-fd67-4131-8e0a-6d85743efc39',\n    'urn:rtr:video:33136b80-bec6-40cd-a771-b8954c805098',\n    'urn:rts:video:9883196',\n  ];\n\n  Promise.all(sources.map(async urn => {\n    // Fetch the media composition data for each URN\n    const mediaComposition = await SrgSsr.getMediaComposition(urn, SrgSsr.dataProvider(player));\n    // Get the main chapter of the media composition\n    const mainChapter = mediaComposition.getMainChapter();\n\n    return {\n      // Define the sources of this playlist item URL and type\n      sources: [{ src: urn, type: 'srgssr/urn' }],\n      // Define the metadata of the playlist item\n      data: {\n        title: mainChapter.title,\n        duration: mainChapter.duration / 1000,\n        live: mainChapter.type === 'LIVESTREAM',\n        imageUrl: mainChapter.imageUrl,\n        imageTitle: mainChapter.imageTitle\n      },\n      // Define the poster image\n      poster: mainChapter.imageUrl\n    };\n  })).then(playlist => {\n    // Load the playlist\n    player.pillarboxPlaylist().load(playlist);\n  });\n","\n  import pillarbox from '@srgssr/pillarbox-web';\n  import '../../src/layout/header/core-demo-header-component.js';\n\n  document.querySelector('#close-btn').addEventListener('click', () => {\n    window.close();\n  });\n\n  window.pillarbox = pillarbox;\n"],"names":["_defineProperty","e","r","t","_toPropertyKey","_toPrimitive","i","version","Plugin","videojs","log","RepeatMode","force","player","options","_options$repeat","items","start","deleteCount","itemsAddedCount","deletedElements","deletedElementsCount","compareFn","currentItem","index","item","liveTracker","_this$currentItem","startTime","j","PillarboxPlaylist","asyncGeneratorStep","n","o","a","c","u","_asyncToGenerator","_next","_throw","stringToSvgElement","svgString","root","fetchSvgElement","_x","_fetchSvgElement","urlString","res","resolveSvgFromString","_x2","_resolveSvgFromString","icon","trimmed","url","loadSvgElement","_x3","_loadSvgElement","appendSvgIcon","_appendSvgIcon","component","iconName","placeholder","insertSvgIcon","_insertSvgIcon","svg","log$1","Button","reason","_this","SvgButton","Component","SvgComponent","tag","props","attributes","el","ownKeys","_objectSpread2","SvgButton$4","PillarboxPlaylistButton","changes","event","version$1","ClickableComponent","Card","style","isSelected","CardLink","CardButton$1","CardButton","PillarboxPlaylistMenuItem","durationEl","SvgButton$3","PillarboxPlaylistNextItemButton","SvgButton$2","PillarboxPlaylistPreviousItemButton","Plugin$1","SvgButton$1","PillarboxPlaylistRepeatButton","PillarboxPlaylistShuffleButton","Component$1","PillarboxPlaylistControls","ModalDialog","PlaylistMenuDialog","button","itemListEl","Playlist$4","Shuffle$4","de","Playlist$3","Shuffle$3","en","Playlist$2","Shuffle$2","fr","Playlist$1","Shuffle$1","it","Playlist","Shuffle","rm","extendLanguage","code","data","_videojs$options$lang","PillarboxPlaylistUI","_player$options$pilla","_controlBarOptions$pi","controlBarOptions","children","pillarbox","sources","urn","mainChapter","SrgSsr","playlist"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}