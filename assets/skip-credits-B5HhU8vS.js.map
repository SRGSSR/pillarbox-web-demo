{"version":3,"file":"skip-credits-B5HhU8vS.js","sources":["../../node_modules/@srgssr/skip-button/dist/skip-button.js","../../static/showcases/skip-credits.html?html-proxy&index=0.js","../../static/showcases/skip-credits.html?html-proxy&index=1.js"],"sourcesContent":["import pillarbox from '@srgssr/pillarbox-web';\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nconst de = {\n\t\"Skip credits\": \"Abspann überspringen\",\n\t\"Skip intro\": \"Intro überspringen\"\n};\n\nconst de$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  default: de\n}, Symbol.toStringTag, { value: 'Module' }));\n\nconst en = {\n\t\"Skip credits\": \"Skip credits\",\n\t\"Skip intro\": \"Skip intro\"\n};\n\nconst en$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  default: en\n}, Symbol.toStringTag, { value: 'Module' }));\n\nconst fr = {\n\t\"Skip credits\": \"Passer\",\n\t\"Skip intro\": \"Passer l’intro\"\n};\n\nconst fr$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  default: fr\n}, Symbol.toStringTag, { value: 'Module' }));\n\nconst it = {\n\t\"Skip credits\": \"Salta i credits\",\n\t\"Skip intro\": \"Salta l'intro\"\n};\n\nconst it$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  default: it\n}, Symbol.toStringTag, { value: 'Module' }));\n\nconst rm = {\n\t\"Skip credits\": \"Sursiglir credentials\",\n\t\"Skip intro\": \"Sursiglir intro\"\n};\n\nconst rm$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  default: rm\n}, Symbol.toStringTag, { value: 'Module' }));\n\npillarbox.addLanguage('de', de$1);\npillarbox.addLanguage('en', en$1);\npillarbox.addLanguage('fr', fr$1);\npillarbox.addLanguage('it', it$1);\npillarbox.addLanguage('rm', rm$1);\n\n/**\n * @ignore\n * @type {typeof import('video.js/dist/types/button').default}\n */\nconst Button = pillarbox.getComponent('Button');\n\n/**\n * Represents a SkipButton component for the pillarbox player. Allows skipping\n * opening credits and end credits detected through the 'srgssr/interval' event.\n *\n * @class SkipButton\n */\nclass SkipButton extends Button {\n  constructor(player, options) {\n    super(player, options);\n    /**\n     * The currently active interval.\n     *\n     * @type {VTTCue}\n     */\n    _defineProperty(this, \"activeInterval\", void 0);\n    /**\n     * Handles the event triggered on changing the time interval.\n     * This method serves as a proxy to the main time interval change handler,\n     * ensuring that additional logic can be executed or making it easier to\n     * detach the event listener later.\n     *\n     * @private\n     */\n    _defineProperty(this, \"onTimeIntervalChange_\", ({\n      data\n    }) => this.handleTimeIntervalChange(data));\n    this.player().on('srgssr/interval', this.onTimeIntervalChange_);\n  }\n  dispose() {\n    this.player().off('srgssr/interval', this.onTimeIntervalChange_);\n    super.dispose();\n  }\n  buildCSSClass() {\n    return `${super.buildCSSClass()} pbw-skip-button vjs-hidden vjs-visible-text`;\n  }\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().currentTime(this.activeInterval.endTime);\n  }\n\n  /**\n   * Handles the time interval change and updates the currently active interval.\n   * If there is no currently active interval the component is hidden, otherwise\n   * it is shown.\n   *\n   * @param {VTTCue} cue The cue for the current time interval.\n   */\n  handleTimeIntervalChange(cue) {\n    this.activeInterval = cue;\n    if (!this.activeInterval) {\n      this.hide();\n      return;\n    }\n\n    /**\n     * @type {import('@srgssr/pillarbox-web/dist/types/src/dataProvider/model/typedef').TimeInterval}\n     */\n    const timeInterval = JSON.parse(this.activeInterval.text);\n    const text = timeInterval.type === 'OPENING_CREDITS' ? 'Skip intro' : 'Skip credits';\n    this.controlText(this.localize(text));\n    this.show();\n  }\n}\npillarbox.registerComponent('SkipButton', SkipButton);\n\nexport { SkipButton as default };\n//# sourceMappingURL=skip-button.js.map\n","\n  // Import the pillarbox library\n  import pillarbox from '@srgssr/pillarbox-web';\n  // Import the skip-button component\n  import '@srgssr/skip-button';\n\n  // Create a pillarbox player instance with the skip-button component\n  const player = pillarbox('video-element-id', { SkipButton: true });\n\n  // Load the video source for the player\n  player.src({ src: 'urn:rts:video:14683290', type: 'srgssr/urn' });\n","\n  import pillarbox from '@srgssr/pillarbox-web';\n  import '../../src/layout/header/core-demo-header-component.js';\n\n  document.querySelector('#close-btn').addEventListener('click', () => {\n    window.close();\n  });\n\n  window.pillarbox = pillarbox;\n"],"names":["_defineProperty","e","r","t","_toPropertyKey","_toPrimitive","i","de","de$1","en","en$1","fr","fr$1","it","it$1","rm","rm$1","pillarbox","Button","SkipButton","player","options","data","event","cue","text"],"mappings":"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","x_google_ignoreList":[0]}